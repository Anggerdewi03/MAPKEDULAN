// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.15/esri/copyright.txt and http://www.arcgis.com/apps/webappbuilder/copyright.txt for details.
//>>built
require({cache:{"esri/widgets/LayerList":function(){define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/Collection ../core/events ../core/Handles ../core/has ../core/watchUtils ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ./Widget ./LayerList/LayerListViewModel ./LayerList/ListItem ./LayerList/support/layerListUtils ./support/decorators/accessibleHandler ./support/decorators/messageBundle ../core/Logger ./support/decorators/vmEvent ./support/jsxFactory ./support/widgetUtils ../chunks/sortable.esm".split(" "),
function(Q,K,u,w,B,y,G,v,h,D,R,F,M,ia,oa,la,W,S,l,z,p,r,O,E){function q(ba){const {actionsOpen:Y,children:m}=ba;Y&&(ba.actionsOpen=!1);m.forEach(d=>q(d))}const H=w.ofType(la),V={exclusive:"exclusive",inherited:"inherited",independent:"independent"},ca={statusIndicators:!0};w=function(ba){function Y(d,f){var g=ba.call(this,d,f)||this;g._handles=new y;g._sortableNodes=new Map;g._sortableMap=new Map;g._focusSortUid=null;g._newUI=G("esri-layerlist-new-ui");g._tooltipReferenceMap=new Map;g.visibleItems=
null;g.iconClass="esri-icon-layers";g.label=void 0;g.listItemCanGiveFunction=null;g.listItemCanReceiveFunction=null;g.listItemCreatedFunction=null;g.messages=null;g.messagesCommon=null;g.multipleSelectionEnabled=!1;g.operationalItems=null;g.selectionEnabled=!1;g.selectedItems=new H;g.view=null;g.viewModel=new oa;g.visibleElements={...ca};g._onSortableSort=({to:x,from:A,item:L,newIndex:J})=>{A&&x&&(A===x?g._sortLayers(g._sortableMap.get(A.dataset.group)):g._moveLayerFromChildList({to:x,from:A,item:L,
newIndex:J}))};g._sortableCanSort=(x,A)=>!(!x.el.dataset.group||!A.el.dataset.group);g._sortableCanPull=(x,A,L)=>{const {listItemCanGiveFunction:J}=K._assertThisInitialized(g);L={selected:L["data-item"],from:A.el["data-item"],to:x.el["data-item"]};return g._sortableCanSort(x,A)&&"function"===typeof J?J.call(null,L):!0};g._sortableCanPut=(x,A,L)=>{const {listItemCanReceiveFunction:J}=K._assertThisInitialized(g);L={selected:L["data-item"],from:A.el["data-item"],to:x.el["data-item"]};return g._sortableCanSort(x,
A)&&"function"===typeof J?J.call(null,L):!0};g._onSortableEnd=({oldIndex:x,from:A,to:L,item:J})=>{A!==L&&A.insertBefore(J,A.children[x])};return g}K._inheritsLoose(Y,ba);var m=Y.prototype;m.initialize=function(){const d=this.operationalItems;this._setVisibleItems(d);this.own(v.on(this,"operationalItems","change",()=>this._itemsChanged(d)),v.init(this,"selectionEnabled",()=>this._toggleAllSorting()))};m.loadDependencies=function(){return Promise.all([new Promise((d,f)=>Q(["../chunks/calcite-tooltip-manager"],
d,f)),new Promise((d,f)=>Q(["../chunks/calcite-tooltip"],d,f))])};m.destroy=function(){this._destroySortables();this._tooltipReferenceMap.clear();this._handles.destroy();this._handles=null};m.castVisibleElements=function(d){return{...ca,...d}};m.triggerAction=function(d,f){this.viewModel.triggerAction(d,f)};m.render=function(){var d;const {visibleItems:f,_newUI:g}=this;var x=null==(d=this.viewModel)?void 0:d.state;d={["esri-layer-list--new-ui"]:g,["esri-hidden"]:"loading"===x,["esri-disabled"]:"disabled"===
x};x=this.renderItemTooltips();const A=this.renderItems();return r.tsx("div",{class:this.classes("esri-layer-list esri-widget esri-widget--panel",d)},null!=f&&f.length?[x,x.length?r.tsx("calcite-tooltip-manager",null,A):A]:this.renderNoItems())};m.renderItemTooltip=function(d){const {_tooltipReferenceMap:f,messages:g}=this;return d?r.tsx("calcite-tooltip",{label:g.layerIncompatible,referenceElement:f.get(d.uid)},g.layerIncompatibleTooltip):null};m.renderItemTooltipNodes=function(d){const {incompatible:f,
children:g}=d;return[f?this.renderItemTooltip(d):null,...f?[]:null==g?void 0:g.toArray().map(x=>this.renderItemTooltipNodes(x))]};m.renderItemTooltips=function(){return this.visibleItems.toArray().map(d=>this.renderItemTooltipNodes(d))};m.renderNoItems=function(){return r.tsx("div",{class:"esri-layer-list__no-items"},this.messages.noItemsToDisplay)};m.renderItems=function(){const {visibleItems:d,selectionEnabled:f,messages:g}=this;return r.tsx("ul",{"aria-label":g.widgetLabel,role:f?"listbox":void 0,
afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes("esri-layer-list__list","esri-layer-list__list--root","esri-layer-list__list--independent")},null==d?void 0:d.map(x=>this.renderItem(x,null)).toArray())};m.renderActionsMenuIcon=function(d,f){const {messagesCommon:g}=this;return r.tsx("div",{key:"actions-menu-toggle","data-item":d,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,
class:this.classes("esri-layer-list__item-actions-menu-item",{["esri-layer-list__item-actions-menu-item--active"]:d.actionsOpen}),tabindex:"0",role:"button","aria-controls":f,"aria-label":g.options,title:g.options},r.tsx("span",{"aria-hidden":"true",class:"esri-icon-handle-horizontal"}))};m.renderActionsMenu=function(d,f,g,x){var {panel:A}=d;A=A&&A.visible?this.renderPanelButton(A):null;const L=(f=1===g&&this._getSingleActionButton(f))?this.renderAction({item:d,action:f,singleAction:!0}):null;return(d=
!f&&g?this.renderActionsMenuIcon(d,x):null)||A||f?r.tsx("div",{key:"actions-menu",class:"esri-layer-list__item-actions-menu"},A,L,d):null};m.renderChildList=function(d,f){var g;const {selectionEnabled:x}=this,{visibilityMode:A,children:L}=d,J=this._hasChildren(d),P=!J&&x&&"group"===(null==(g=d.layer)?void 0:g.type),{exclusive:aa,inherited:da}=V;g={["esri-layer-list__list--exclusive"]:A===aa,["esri-layer-list__list--inherited"]:A===da,["esri-layer-list__list--independent"]:A!==da&&A!==aa};return J||
P?r.tsx("ul",{bind:this,key:"list-items",id:f,"data-group":d.uid,"data-item":d,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes("esri-layer-list__list",g),"aria-expanded":d.open?"true":"false",role:x?"listbox":A===aa?"radiogroup":"group",hidden:d.open||P?null:!0},null==L?void 0:L.map(ua=>this.renderItem(ua,d)).toArray()):null};m.renderChildrenToggle=function(d,f){var {messagesCommon:g}=this;const x=this._hasChildren(d),A={["esri-layer-list__child-toggle--open"]:d.open};
g=d.open?g.collapse:g.expand;return x?r.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":d,key:"toggle-children",class:this.classes("esri-layer-list__child-toggle",A),tabindex:"0",role:"button","aria-controls":f,"aria-label":g,title:g},r.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed","esri-icon-right-triangle-arrow")}),r.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--opened",
"esri-icon-down-arrow")}),r.tsx("span",{"aria-hidden":"true",class:this.classes("esri-layer-list__child-toggle-icon--closed-rtl","esri-icon-left-triangle-arrow")})):null};m.renderItemMessage=function(d){return d.error?r.tsx("div",{key:"esri-layer-list__error",class:"esri-layer-list__item-message",role:"alert"},r.tsx("span",{"aria-hidden":"true",class:"esri-icon-notice-triangle"}),this.messages.layerError):d.incompatible?r.tsx("div",{key:"esri-layer-list__incompatible",class:"esri-layer-list__item-message",
role:"alert"},r.tsx("span",{bind:this,tabIndex:0,"aria-hidden":"true",class:"esri-icon-notice-triangle",afterCreate:f=>this._setTooltipReference(f,d)}),this.messages.layerIncompatible):null};m.renderItemContent=function(d,f,g){var {id:x}=this,A=`${x}_${d.uid}`;x=`${A}_actions`;A=`${A}__list`;const {panel:L}=d,J=this._filterActions(d.actionsSections),P=this._countActions(J);return[r.tsx("div",{key:"list-item-container",class:"esri-layer-list__item-container"},this.renderChildrenToggle(d,A),this.renderLabel(d,
f,g),this.renderActionsMenu(d,J,P,x)),this.renderItemMessage(d),P?this.renderActionsSections(d,J,x):null,L&&L.open?L.render():null,this.renderChildList(d,A)]};m.renderItem=function(d,f){const {_newUI:g,id:x,selectionEnabled:A,selectedItems:L,visibleElements:J}=this,P=`${`${x}_${d.uid}`}__title`;var aa=this._hasMessage(d);aa={["esri-layer-list__item--has-children"]:this._hasChildren(d),["esri-layer-list__item--has-message"]:!!aa,["esri-layer-list__item--updating"]:d.updating&&!f&&J.statusIndicators,
["esri-layer-list__item--invisible"]:g&&!d.visible,["esri-layer-list__item--invisible-at-scale"]:!d.visibleAtCurrentScale,["esri-layer-list__item--selectable"]:A};if(A){var da;const ua={["data-layer-uid"]:null==(da=d.layer)?void 0:da.uid,["data-sort-filter"]:(!d.sortable).toString()};return r.tsx("li",{key:`item-with-selection-${d.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",aa),"aria-labelledby":P,onclick:this._toggleSelection,
onkeydown:this._selectionKeydown,"data-item":d,"data-group":f?f.uid:"root",tabIndex:0,"aria-selected":W.findSelectedItem(d,L)?"true":"false",role:"option",...ua},this.renderItemContent(d,f,P))}return r.tsx("li",{key:`item-no-selection-${d.uid}`,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes("esri-layer-list__item",aa),"aria-labelledby":P},this.renderItemContent(d,f,P))};m.renderItemTitle=function(d,f){const {messages:g}=this,x=d.title||g.untitledLayer;
d=d.visibleAtCurrentScale?x:`${x} (${g.layerInvisibleAtScale})`;return r.tsx("span",{key:"layer-title-container",id:f,title:d,"aria-label":d,class:"esri-layer-list__item-title"},x)};m.renderItemToggleIcon=function(d,f){const {_newUI:g}=this,{exclusive:x}=V;f=f&&f.visibilityMode;return r.tsx("span",{key:"item-toggle-icon",class:this.classes({["esri-layer-list__item-toggle-icon"]:g,["esri-layer-list__item-toggle-icon"]:g&&f!==x,["esri-layer-list__item-radio-icon"]:g&&f===x,["esri-icon-radio-checked"]:f===
x&&d.visible,["esri-icon-radio-unchecked"]:f===x&&!d.visible,["esri-icon-visible"]:f!==x&&d.visible,["esri-icon-non-visible"]:f!==x&&!d.visible}),"aria-hidden":"true"})};m.renderItemToggle=function(d,f,g){const {selectionEnabled:x,messages:A}=this,{exclusive:L}=V,J=f&&f.visibilityMode;return x?r.tsx("span",{key:"item-toggle-selection-enabled",class:"esri-layer-list__item-toggle",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":d,"data-parent-visibility":J,tabIndex:0,
title:d.visible?A.hideLayer:A.showLayer,"aria-checked":d.visible?"true":"false",role:J===L?"radio":"switch","aria-labelledby":g},this.renderItemToggleIcon(d,f)):r.tsx("span",{key:"item-toggle",class:"esri-layer-list__item-toggle"},this.renderItemToggleIcon(d,f))};m.renderLabel=function(d,f,g){const {selectionEnabled:x,_newUI:A,messages:L}=this,{inherited:J,exclusive:P}=V,aa=null==f?void 0:f.visibilityMode;var da=aa===P?"radio":"switch";f=[this.renderItemToggle(d,f,g),this.renderItemTitle(d,g)];A&&
f.reverse();da=x?r.tsx("div",{key:`item-label-no-selection-${d.uid}`,class:"esri-layer-list__item-label"},f):r.tsx("div",{key:`item-label-with-selection-${d.uid}`,class:"esri-layer-list__item-label",bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":d,"data-parent-visibility":aa,tabIndex:0,"aria-checked":d.visible?"true":"false",title:d.visible?L.hideLayer:L.showLayer,role:da,"aria-labelledby":g},f);return aa===J||d.error?r.tsx("div",{key:`item-label-container-${d.uid}`,
class:"esri-layer-list__item-label"},this.renderItemTitle(d,g)):da};m.renderPanelButton=function(d){const {className:f,open:g,title:x,image:A}=d,L=A||f?f:"esri-icon-default-action",J=this._getIconImageStyles(d),P={["esri-layer-list__item-actions-menu-item--active"]:g},aa={["esri-layer-list__item-action-image"]:!!J["background-image"]};L&&(aa[L]=!!L);return r.tsx("div",{key:`panel-${d.uid}`,bind:this,"data-panel":d,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes("esri-layer-list__item-actions-menu-item",
P),role:"button",tabindex:"0",title:x,"aria-label":x},r.tsx("span",{class:this.classes(aa),styles:J}))};m.renderActionsSections=function(d,f,g){f=f.toArray().map((x,A)=>r.tsx("ul",{key:`${d}-action-section-${A}`,class:"esri-layer-list__item-actions-list"},this.renderActionSection(d,x)));return r.tsx("div",{role:"group","aria-expanded":d.actionsOpen?"true":"false",key:"actions-section",id:g,class:"esri-layer-list__item-actions",hidden:d.actionsOpen?null:!0},f)};m.renderActionSection=function(d,f){return(f&&
f.toArray()).map(g=>this.renderAction({item:d,action:g}))};m.renderActionIcon=function(d){const {active:f,className:g}=d,x=this._getIconImageStyles(d);d="button"!==d.type||d.image||g?g:"esri-icon-default-action";const A={["esri-layer-list__item-action-image"]:!f&&!!x["background-image"],["esri-icon-loading-indicator"]:f,["esri-rotating"]:f};d&&!f&&(A[d]=!0);return r.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes("esri-layer-list__item-action-icon",A),styles:x})};m.renderActionTitle=
function(d,f){return f?null:r.tsx("span",{key:"action-title",class:"esri-layer-list__item-action-title"},d)};m.renderAction=function(d){const {item:f,action:g,singleAction:x}=d,{active:A,disabled:L,title:J}=g;d={["esri-layer-list__item-actions-menu-item"]:x&&"button"===g.type,["esri-layer-list__item-action"]:A||!x&&"toggle"!==g.type,["esri-layer-list__action-toggle"]:!A&&"toggle"===g.type,["esri-layer-list__action-toggle--on"]:!A&&"toggle"===g.type&&g.value,["esri-disabled-element"]:L};const P=[this.renderActionIcon(g),
this.renderActionTitle(J,x)];return x?r.tsx("div",{bind:this,"data-item":f,"data-action":g,role:"button",key:`single-action-${g.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:d,tabindex:"0",title:J,"aria-label":J},P):r.tsx("li",{bind:this,"data-item":f,"data-action":g,key:`action-${g.uid}`,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:d,tabindex:"0",role:"button",title:J,"aria-label":J},P)};m._setTooltipReference=function(d,f){this._tooltipReferenceMap.set(f.uid,
d);this.scheduleRender()};m._hasMessage=function(d){return!!d.error||d.incompatible};m._hasChildren=function(d){return!!d.children.length&&!this._hasMessage(d)};m._sortNodeRemoved=function(d){const {_sortableMap:f}=this;d=d.dataset.group;const g=f.get(d);g&&g.destroy();f.delete(d)};m._destroySortables=function(){const {_sortableMap:d,_sortableNodes:f}=this;d.forEach(g=>g&&g.destroy());d.clear();f.clear()};m._moveLayerFromChildList=function({to:d,from:f,item:g,newIndex:x}){this.viewModel.moveListItem(g["data-item"],
f["data-item"],d["data-item"],x)};m._sortLayers=function(d){if(d){var f=d.el["data-item"];d=d.toArray();if(f)W.sortChildLayersToIds(f,d);else{var g,x;W.sortLayersToIds(null==(g=this.view)?void 0:null==(x=g.map)?void 0:x.layers,d)}}};m._toggleSorting=function(d,f){const {_sortableMap:g,selectionEnabled:x}=this,A=g.get(f);var L=d["data-item"];L=("root"===f?!0:L.childrenSortable&&W.canSortSublayers(L))&&x;A?A.option("disabled",!L):L&&(d=E.Sortable.create(d,{dataIdAttr:"data-layer-uid",group:{name:f,
pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter\x3d"true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!L,chosenClass:"esri-layer-list--chosen"}),g.set(f,d))};m._toggleAllSorting=function(){this._sortableNodes.forEach((d,f)=>this._toggleSorting(d,f))};m._sortNodeCreated=function(d){const f=d.dataset.group;f&&(this._sortableNodes.set(f,d),this._toggleSorting(d,f))};m._setVisibleItems=function(d){this._tooltipReferenceMap.clear();
this.visibleItems=null==d?void 0:d.filter(f=>this.errorsVisible||!f.error)};m._getSingleActionButton=function(d){return d.reduce(f=>f).filter(f=>f&&"button"===f.type).getItemAt(0)};m._focusListItem=function(d){var f;const {_focusSortUid:g}=this;d&&g&&(null==(f=d["data-item"].layer)?void 0:f.uid)===g&&(d.focus(),this._focusSortUid=null)};m._watchActionSectionChanges=function(d,f){const g="action-section"+f;this._handles.add(d.on("change",this.scheduleRender.bind(this)),g);d.forEach(x=>this._renderOnActionChanges(x,
f))};m._renderOnActionChanges=function(d,f){f="actions"+f;"toggle"===d.type?this._handles.add([v.init(d,"className image id title visible value".split(" "),()=>this.scheduleRender())],f):"slider"===d.type?this._handles.add([v.init(d,"className id title visible value displayValueEnabled max min step".split(" "),()=>this.scheduleRender())],f):this._handles.add([v.init(d,["className","image","id","title","visible"],()=>this.scheduleRender())],f)};m._renderOnItemChanges=function(d){const f=d.uid,g="items"+
f;this._handles.add([v.init(d,"actionsOpen visible open updating title visibleAtCurrentScale error visibilityMode panel panel.title panel.content panel.className sortable childrenSortable".split(" "),()=>this.scheduleRender()),d.actionsSections.on("change",()=>this.scheduleRender()),d.children.on("change",()=>this.scheduleRender())],g);d.children.forEach(x=>this._renderOnItemChanges(x));d.actionsSections.forEach(x=>this._watchActionSectionChanges(x,f))};m._itemsChanged=function(d){this._handles.removeAll();
d.forEach(f=>this._renderOnItemChanges(f));this._setVisibleItems(d);this.scheduleRender()};m._filterActions=function(d){return d.map(f=>f.filter(g=>g.visible))};m._countActions=function(d){return d.reduce((f,g)=>f+g.length,0)};m._getIconImageStyles=function(d){d="esri.widgets.LayerList.ListItemPanel"===d.declaredClass||"esri.support.Action.ActionButton"===d.declaredClass||"esri.support.Action.ActionToggle"===d.declaredClass?d.image:null;return{"background-image":d?`url("${d}")`:null}};m._selectionKeydown=
function(d){var f=B.eventKey(d);if(-1===["ArrowDown","ArrowUp"].indexOf(f))this._toggleSelection(d);else{d.stopPropagation();var g=d.currentTarget,x=g["data-item"],{_sortableMap:A,selectedItems:L}=this;if(g=A.get(g.dataset.group)){var J=W.findSelectedItem(x,L),P=g.toArray();d=P.indexOf(d.target.dataset.layerUid);if(-1!==d){if("ArrowDown"===f){const za=d+1;if(za>=P.length)return;if(J){var aa;P.splice(za,0,P.splice(d,1)[0]);g.sort(P);this._sortLayers(g);this._focusSortUid=null==(aa=x.layer)?void 0:
aa.uid}else{var da;this._focusSortUid=null==(da=x.layer)?void 0:da.uid;this.scheduleRender()}}if("ArrowUp"===f&&(f=d-1,!(-1>=f)))if(J){var ua;P.splice(f,0,P.splice(d,1)[0]);g.sort(P);this._sortLayers(g);this._focusSortUid=null==(ua=x.layer)?void 0:ua.uid}else{var ra;this._focusSortUid=null==(ra=x.layer)?void 0:ra.uid;this.scheduleRender()}}}}};m._toggleActionsOpen=function(d){const f=d.currentTarget["data-item"];var {actionsOpen:g}=f;(g=!g)&&this.operationalItems.forEach(x=>q(x));f.actionsOpen=g;
d.stopPropagation()};m._triggerPanel=function(d){const f=d.currentTarget["data-panel"];f&&(f.open=!f.open);d.stopPropagation()};m._triggerAction=function(d){var f=d.currentTarget;const g=f["data-action"];f=f["data-item"];"toggle"===g.type&&(g.value=!g.value);this.triggerAction(g,f);d.stopPropagation()};m._toggleVisibility=function(d){var f=d.currentTarget;const g=f.getAttribute("data-parent-visibility");f=f["data-item"];g===V.exclusive&&f.visible||(f.visible=!f.visible);d.stopPropagation()};m._toggleChildrenClick=
function(d){const f=d.currentTarget["data-item"];f.open=!f.open;d.stopPropagation()};m._toggleSelection=function(d){d.stopPropagation();const {multipleSelectionEnabled:f,selectedItems:g}=this;d=d.currentTarget["data-item"];const x=W.findSelectedItem(d,g),{length:A}=g,L=x&&1===A;f?x?null==g.remove?void 0:g.remove(x):g.add(d):A&&!L?(g.removeAll(),g.add(d)):x?null==g.remove?void 0:g.remove(x):g.add(d)};return Y}(ia);u.__decorate([F.property()],w.prototype,"visibleItems",void 0);u.__decorate([F.property()],
w.prototype,"iconClass",void 0);u.__decorate([F.property()],w.prototype,"errorsVisible",void 0);u.__decorate([F.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],w.prototype,"label",void 0);u.__decorate([F.property()],w.prototype,"listItemCanGiveFunction",void 0);u.__decorate([F.property()],w.prototype,"listItemCanReceiveFunction",void 0);u.__decorate([h.aliasOf("viewModel.listItemCreatedFunction")],w.prototype,"listItemCreatedFunction",void 0);u.__decorate([F.property(),l.messageBundle("esri/widgets/LayerList/t9n/LayerList")],
w.prototype,"messages",void 0);u.__decorate([F.property(),l.messageBundle("esri/t9n/common")],w.prototype,"messagesCommon",void 0);u.__decorate([F.property()],w.prototype,"multipleSelectionEnabled",void 0);u.__decorate([h.aliasOf("viewModel.operationalItems")],w.prototype,"operationalItems",void 0);u.__decorate([F.property()],w.prototype,"selectionEnabled",void 0);u.__decorate([F.property()],w.prototype,"selectedItems",void 0);u.__decorate([h.aliasOf("viewModel.view")],w.prototype,"view",void 0);
u.__decorate([p.vmEvent("trigger-action"),F.property({type:oa})],w.prototype,"viewModel",void 0);u.__decorate([F.property()],w.prototype,"visibleElements",void 0);u.__decorate([R.cast("visibleElements")],w.prototype,"castVisibleElements",null);u.__decorate([h.aliasOf("viewModel.triggerAction")],w.prototype,"triggerAction",null);u.__decorate([S.accessibleHandler()],w.prototype,"_toggleActionsOpen",null);u.__decorate([S.accessibleHandler()],w.prototype,"_triggerPanel",null);u.__decorate([S.accessibleHandler()],
w.prototype,"_triggerAction",null);u.__decorate([S.accessibleHandler()],w.prototype,"_toggleVisibility",null);u.__decorate([S.accessibleHandler()],w.prototype,"_toggleChildrenClick",null);u.__decorate([S.accessibleHandler()],w.prototype,"_toggleSelection",null);return w=u.__decorate([M.subclass("esri.widgets.LayerList")],w)})},"esri/widgets/LayerList/LayerListViewModel":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/Evented ../../core/Handles ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ListItem ./support/layerListUtils".split(" "),
function(Q,K,u,w,B,y,G,v,h,D,R,F,M,ia){const oa=u.ofType(M);u=function(la){function W(l){var z=la.call(this,l)||this;z._handles=new B;z.listItemCreatedFunction=null;z.operationalItems=new oa;z.view=null;z._callListItemsCreatedDebounced=y.debounce(Q._asyncToGenerator(function*(){return z._callListItemsCreated()}),300);return z}Q._inheritsLoose(W,la);var S=W.prototype;S.initialize=function(){this._handles.add(G.init(this,["view","view.ready"],()=>this._viewHandles()),"view")};S.destroy=function(){this._handles.destroy();
this.view=this._handles=null;this.operationalItems.removeAll()};S.triggerAction=function(l,z){l&&!l.disabled&&this.emit("trigger-action",{action:l,item:z})};S.moveListItem=function(l,z,p,r){var O,E;const q=null==l?void 0:l.layer;if(q){var H=null==(O=this.view)?void 0:null==(E=O.map)?void 0:E.layers;O=z?ia.getItemLayers(z):H;H=p?ia.getItemLayers(p):H;O&&H&&({operationalItems:E}=this,z=(null==z?void 0:z.children)||E,E=(null==p?void 0:p.children)||E,r=H.length-r,l.parent=p||null,z.includes(l)&&z.remove(l),
O.includes(q)&&O.remove(q),E.includes(l)||E.add(l,r),H.includes(q)||H.add(q,r))}};S._createLayerViewHandles=function(l){const {_handles:z}=this;z.remove("layer-views");this._compileList();l&&z.add(l.on("change",()=>this._compileList()),"layer-views")};S._createMapLayerHandles=function(l){const {_handles:z}=this;z.remove("map-layers");this._compileList();l&&z.add(l.on("change",()=>this._compileList()),"map-layers")};S._watchItemProperties=function(l){this._watchItemChildren(l,`${"children"}-${l.uid}`)};
S._watchItemChildren=function(l,z){this._handles.add([l.children.on("change",()=>{this._callListItemCreatedChildren(l.children)})],z);l.children.forEach(p=>this._watchItemChildren(p,z))};S._callListItemCreatedChildren=function(l){l.forEach(z=>this._callListItemCreated(z))};S._callListItemCreated=function(l){"function"===typeof this.listItemCreatedFunction&&this.listItemCreatedFunction.call(null,{item:l});this._callListItemCreatedChildren(l.children)};S._createListItem=function(l){const {view:z}=this;
l=new M({layer:l,view:z});this._watchItemProperties(l);return l};S._removeAllItems=function(){const {_handles:l,operationalItems:z}=this;z.forEach(p=>{l.remove(`${"children"}-${p.uid}`)});z.removeAll()};S._getViewableLayers=function(l){if(l)return l.filter(z=>"hide"!==ia.findLayerListMode(z))};S._watchLayersListMode=function(l){const {_handles:z}=this;z.remove("layer-list-mode");l&&l.forEach(p=>{z.add(G.watch(p,"listMode",()=>this._compileList()),"layer-list-mode")})};S._compileList=function(){var l=
this.get("view.map.layers");this._watchLayersListMode(l);(l=this._getViewableLayers(l))&&l.length?(this._createNewItems(l),this._removeItems(l),this._sortItems(l),this._beforeCallListItemsCreated()):this._removeAllItems()};S._beforeCallListItemsCreated=function(){var l=Q._asyncToGenerator(function*(){return this._callListItemsCreatedDebounced().catch(y.throwIfNotAbortError)});return function(){return l.apply(this,arguments)}}();S._callListItemsCreated=function(){var l=Q._asyncToGenerator(function*(){var z;
yield null==(z=this.view)?void 0:z.when();this.operationalItems.forEach(p=>this._callListItemCreated(p))});return function(){return l.apply(this,arguments)}}();S._createNewItems=function(l){const {operationalItems:z}=this;l.forEach(p=>{z.find(r=>r.layer===p)||z.add(this._createListItem(p))})};S._removeItems=function(l){const {_handles:z,operationalItems:p}=this,r=[];p.forEach(O=>{O&&l&&l.find(E=>O.layer===E)||(z.remove(`${"children"}-${O.uid}`),r.push(O))});p.removeMany(r)};S._sortItems=function(l){const {operationalItems:z}=
this;z.sort((p,r)=>{p=l.indexOf(p.layer);r=l.indexOf(r.layer);return p>r?-1:p<r?1:0})};S._viewHandles=function(){const {_handles:l,view:z}=this;l.remove(["map-layers","layer-views","view-layers"]);this._compileList();z&&z.ready&&l.add([G.init(this,"view.map.allLayers",p=>this._createMapLayerHandles(p)),G.init(this,"view.allLayerViews",p=>this._createLayerViewHandles(p)),G.init(this,"listItemCreatedFunction",()=>this._compileList())],"view-layers")};Q._createClass(W,[{key:"state",get:function(){const l=
this.get("view");return this.get("view.ready")?"ready":l?"loading":"disabled"}}]);return W}(w.EventedAccessor);K.__decorate([v.property()],u.prototype,"listItemCreatedFunction",void 0);K.__decorate([v.property({type:oa})],u.prototype,"operationalItems",void 0);K.__decorate([v.property({readOnly:!0})],u.prototype,"state",null);K.__decorate([v.property()],u.prototype,"view",void 0);return u=K.__decorate([F.subclass("esri.widgets.LayerList.LayerListViewModel")],u)})},"esri/widgets/LayerList/ListItem":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Collection ../../core/HandleOwner ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators/aliasOf ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass ../../support/actions/ActionBase ../../support/actions/ActionButton ../../support/actions/ActionSlider ../../support/actions/ActionToggle ./ListItemPanel ./support/layerListUtils".split(" "),
function(Q,K,u,w,B,y,G,v,h,D,R,F,M,ia,oa,la,W,S,l){var z;h=w.ofType({key:"type",defaultKeyValue:"button",base:ia,typeMap:{button:oa,toggle:W,slider:la}});const p=w.ofType(h);u=z=function(r){function O(q){q=r.call(this,q)||this;q.actionsSections=new p;q.actionsOpen=!1;q.children=new (w.ofType(z));q.childrenSortable=!0;q.error=null;q.layer=null;q.layerView=null;q.open=!1;q.panel=null;q.parent=null;q.sortable=!0;q.view=null;q.visible=null;return q}Q._inheritsLoose(O,r);var E=O.prototype;E.initialize=
function(){this.handles.add([G.init(this,"layer",q=>this._watchLayerProperties(q)),G.init(this,"view",q=>this._updateChildren(q)),G.init(this,"panel",q=>this._setListItemOnPanel(q)),G.init(this,["layer","view"],()=>this._getLayerView())])};E.destroy=function(){this.view=null};E.castPanel=function(q){this.get("panel.open")&&!q.hasOwnProperty("open")&&(q.open=!0);return q?new S(q):null};E.clone=function(){return new z({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,children:this.children.clone(),
layer:this.layer,open:this.open,panel:this.panel,title:this.title,view:this.view,visible:this.visible})};E._setListItemOnPanel=function(q){q&&(q.listItem=this)};E._updateChildren=function(q){const H=this.children;H&&H.forEach(V=>V.view=q)};E._addChildren=function(q){this.handles.remove("child-list-mode");this.children.removeAll();if(q){q.forEach(V=>{this.handles.add(G.watch(V,"listMode",()=>this._addChildren(q)),"child-list-mode")});var H=q.filter(V=>"hide"!==l.findLayerListMode(V));this.children.addMany(this._makeChildren(H))}};
E._watchSublayerChanges=function(q){q&&this.handles.add(q.on("change",()=>{this._addChildren(q)}),"layer")};E._initializeChildLayers=function(q){this._addChildren(q);this._watchSublayerChanges(q)};E._makeChildren=function(q){return q.map(H=>l.canDisplayLayer(H)?new z({layer:H,parent:this,view:this.view}):null).reverse()};E._watchLayerProperties=function(q){if(this.handles&&(this.handles.remove("layer"),this.handles.remove("child-list-mode"),q))if(this.handles.add(G.watch(q,"listMode",()=>this._watchLayerProperties(q)),
"layer"),"hide-children"===l.findLayerListMode(q))this.children.removeAll();else{var H=l.getNormalizedChildLayerProperty(q);H&&this.handles.add(G.init(q,H,()=>{q.hasOwnProperty(H)&&this._initializeChildLayers(q[H])}),"layer")}};E._getLayerView=function(){var q=Q._asyncToGenerator(function*(){const {layer:H,view:V}=this;if(H&&V)try{const ca=yield V.whenLayerView(H);ca.layer===this.layer&&this._set("layerView",ca)}catch{}});return function(){return q.apply(this,arguments)}}();E._isLayerUpdating=function(q){return q&&
"loading"===q.loadStatus};Q._createClass(O,[{key:"incompatible",get:function(){const {layerView:q}=this;return q&&"spatialReferenceSupported"in q?!q.spatialReferenceSupported:!1}},{key:"title",get:function(){const q=this.get("layer.layer");return(!q||q&&this.get("layer.layer.loaded"))&&this.get("layer.title")||this.get("layer.attributes.title")||""},set:function(q){void 0===q?this._clearOverride("title"):this._override("title",q)}},{key:"updating",get:function(){const q=this.layerView;return q?q.updating:
this._isLayerUpdating(this.layer)}},{key:"visibleAtCurrentScale",get:function(){return!l.isLayerOutsideScaleRange(this.layer,this.get("view.scale"))}},{key:"visibilityMode",get:function(){return l.findLayerVisibilityMode(this.layer)}}]);return O}(y.IdentifiableMixin(B.HandleOwnerMixin(u)));K.__decorate([F.property({type:p})],u.prototype,"actionsSections",void 0);K.__decorate([F.property()],u.prototype,"actionsOpen",void 0);K.__decorate([F.property({type:w})],u.prototype,"children",void 0);K.__decorate([F.property()],
u.prototype,"childrenSortable",void 0);K.__decorate([v.aliasOf("layer.loadError?")],u.prototype,"error",void 0);K.__decorate([F.property({readOnly:!0})],u.prototype,"incompatible",null);K.__decorate([F.property()],u.prototype,"layer",void 0);K.__decorate([F.property({readOnly:!0})],u.prototype,"layerView",void 0);K.__decorate([F.property()],u.prototype,"open",void 0);K.__decorate([F.property({type:S})],u.prototype,"panel",void 0);K.__decorate([R.cast("panel")],u.prototype,"castPanel",null);K.__decorate([F.property()],
u.prototype,"parent",void 0);K.__decorate([F.property()],u.prototype,"sortable",void 0);K.__decorate([F.property()],u.prototype,"title",null);K.__decorate([F.property({readOnly:!0})],u.prototype,"updating",null);K.__decorate([F.property({value:null})],u.prototype,"view",void 0);K.__decorate([v.aliasOf("layer.visible")],u.prototype,"visible",void 0);K.__decorate([F.property({readOnly:!0})],u.prototype,"visibleAtCurrentScale",null);K.__decorate([F.property({readOnly:!0})],u.prototype,"visibilityMode",
null);return u=z=K.__decorate([M.subclass("esri.widgets.LayerList.ListItem")],u)})},"esri/support/actions/ActionSlider":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),function(Q,K,u,w,B,y,G,v){var h;w=h=function(D){function R(F){F=D.call(this,F)||this;F.displayValueEnabled=
!1;F.max=1;F.min=0;F.step=.1;F.type="slider";F.value=null;return F}Q._inheritsLoose(R,D);R.prototype.clone=function(){return new h({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,displayValueEnabled:this.displayValueEnabled,max:this.max,min:this.min,step:this.step,value:this.value})};return R}(v);K.__decorate([u.property()],w.prototype,"displayValueEnabled",void 0);K.__decorate([u.property()],w.prototype,
"max",void 0);K.__decorate([u.property()],w.prototype,"min",void 0);K.__decorate([u.property()],w.prototype,"step",void 0);K.__decorate([u.property()],w.prototype,"value",void 0);return w=h=K.__decorate([G.subclass("esri.support.Action.ActionSlider")],w)})},"esri/widgets/LayerList/ListItemPanel":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Handles ../../core/Identifiable ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../Widget ./support/layerListUtils ../support/widget ../support/jsxFactory".split(" "),
function(Q,K,u,w,B,y,G,v,h,D,R,F,M,ia,oa){B=function(la){function W(l,z){l=la.call(this,l,z)||this;l._legend=null;l._handles=new w;l.content=null;l.image=null;l.listItem=null;l.open=!1;l.visible=!0;return l}K._inheritsLoose(W,la);var S=W.prototype;S.initialize=function(){this.own([y.init(this,"content",l=>this._createLegend(l))])};S.destroy=function(){const {_legend:l}=this;l&&l.destroy();this._legend=null};S.render=function(){return oa.tsx("div",{class:"esri-layer-list-panel"},this._renderContents())};
S._renderContent=function(l){const {_legend:z,listItem:p}=this;return l?"legend"===l?p&&p.view&&p.layer&&z?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--legend"),key:z},z.render()):null:"string"===typeof l?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--string"),key:l,innerHTML:l}):ia.isWidget(l)?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--widget"),
key:l},l.render()):l instanceof HTMLElement?oa.tsx("div",{class:this.classes("esri-layer-list-panel__content","esri-layer-list-panel__content--html-element"),key:l,bind:l,afterCreate:this._attachToNode}):null:null};S._renderContents=function(){const {content:l}=this;return Array.isArray(l)?l.map(z=>this._renderContent(z)):this._renderContent(l)};S._getLegendOptions=function(){const {listItem:l}=this;if(!l)return{};const {layer:z,view:p}=l;return z&&p?{view:p,layerInfos:[M.getLegendLayerInfo(z)]}:
{}};S._createLegend=function(l){this._hasLegend(l)&&!this._legend&&(new Promise((z,p)=>Q(["../Legend"],r=>z(Object.freeze({__proto__:null,default:r})),p))).then(({default:z})=>{const {_handles:p}=this,r=new z(this._getLegendOptions());this._legend=r;this.notifyChange("className");this.notifyChange("title");z=y.init(this,["listItem.view","listItem.layer","listItem.layer.source","listItem.layer.parent"],()=>this._updateLegend(r));p.add(z,"legends");this.scheduleRender()})};S._hasLegend=function(l){return"legend"===
l?!0:Array.isArray(l)?l.some(z=>"legend"===z):!1};S._attachToNode=function(l){l.appendChild(this)};S._updateLegend=function(l){l.set(this._getLegendOptions());this.scheduleRender()};S._getWidget=function(l){return"legend"===l?this._legend:ia.isWidget(l)?l:null};S._getFirstWidget=function(){const {content:l}=this;if(Array.isArray(l)){let z=null;l.some(p=>{(p=this._getWidget(p))&&(z=p);return!!p});return z}return this._getWidget(l)};K._createClass(W,[{key:"className",get:function(){const {image:l}=
this,z=this._getFirstWidget();return this._get("className")||!l&&z?z.iconClass:""},set:function(l){void 0===l?this._clearOverride("className"):this._override("className",l)}},{key:"title",get:function(){const l=this._getFirstWidget();return this._get("title")||l?l.label:""},set:function(l){void 0===l?this._clearOverride("title"):this._override("title",l)}}]);return W}(B.IdentifiableMixin(F));u.__decorate([G.property()],B.prototype,"className",null);u.__decorate([G.property()],B.prototype,"content",
void 0);u.__decorate([G.property()],B.prototype,"image",void 0);u.__decorate([G.property()],B.prototype,"listItem",void 0);u.__decorate([G.property()],B.prototype,"title",null);u.__decorate([G.property()],B.prototype,"open",void 0);u.__decorate([G.property()],B.prototype,"visible",void 0);return B=u.__decorate([R.subclass("esri.widgets.LayerList.ListItemPanel")],B)})},"esri/widgets/LayerList/support/layerListUtils":function(){define(["exports"],function(Q){function K(h){if(h)return null!=h.listMode?
h.listMode:void 0}function u(h){if(h)return null!=h.minScale?h.minScale:void 0}function w(h){if(h)return null!=h.maxScale?h.maxScale:void 0}function B(h){if(h){if(!("type"in h))return"sublayers";if(h.listMode!==v.hideChildren&&"wmts"!==h.type)switch(h.type){case "group":return"layers";case "analysis":return"analyses";default:return"sublayers"}}}function y(h,D){h&&h.sort((R,F)=>{R=D.indexOf(R.uid);F=D.indexOf(F.uid);return R>F?-1:R<F?1:0})}function G(h){return!(null==h||!h.layer)}const v={hide:"hide",
hideChildren:"hide-children"};Q.canDisplayLayer=function(h){return K(h)!==v.hide};Q.canSortSublayers=function(h){h=h&&(h.get("layer.layer")||h.layer);if(!h)return!1;h=h.get("capabilities.exportMap.supportsDynamicLayers");return"boolean"===typeof h?h:!0};Q.findLayerListMode=K;Q.findLayerMaxScale=w;Q.findLayerMinScale=u;Q.findLayerVisibilityMode=function(h){if(!h)return"inherited";var D=h.get("layer.capabilities.exportMap.supportsSublayerVisibility");if("boolean"===typeof D)return D?"independent":"inherited";
D=h.get("capabilities.exportMap.supportsSublayerVisibility");return"boolean"===typeof D?D?"independent":"inherited":null!=h.visibilityMode?h.visibilityMode:"independent"};Q.findSelectedItem=function(h,D){var R;const F=null==(R=h.layer)?void 0:R.uid;return F&&D.find(M=>{var ia;return(null==(ia=M.layer)?void 0:ia.uid)===F})};Q.getItemLayers=function(h){return(h=null==h?void 0:h.layer)&&"group"===h.type?h.layers:null};Q.getLegendLayerInfo=function(h){var D=G(h)?h:null;const R=null==h?void 0:h.parent;
return(D="map-image"===(null==R?void 0:R.type)&&D.source)&&R?{layer:R,title:"",sublayerIds:[D.mapLayerId]}:{layer:h,title:""}};Q.getNormalizedChildLayerProperty=B;Q.isLayerOutsideScaleRange=function(h,D){if(!h||isNaN(D))return!1;var R=u(h);h=w(h);R=!isNaN(R)&&0<R&&D>R;D=!isNaN(h)&&0<h&&D<h;return R||D};Q.isSublayer=G;Q.sortChildLayersToIds=function(h,D){if(h=null==h?void 0:h.layer){var R=B(h);R&&(h=h.get(R),y(h,D))}};Q.sortLayersToIds=y;Object.defineProperty(Q,"__esModule",{value:!0})})},"esri/chunks/sortable.esm":function(){define(["exports"],
function(Q){function K(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);b&&(e=e.filter(function(k){return Object.getOwnPropertyDescriptor(a,k).enumerable}));c.push.apply(c,e)}return c}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?K(Object(c),!0).forEach(function(e){var k=c[e];e in a?Object.defineProperty(a,e,{value:k,enumerable:!0,configurable:!0,writable:!0}):a[e]=k}):Object.getOwnPropertyDescriptors?
Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):K(Object(c)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(c,e))})}return a}function w(a){"@babel/helpers - typeof";w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return w(a)}function B(){B=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=
arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a};return B.apply(this,arguments)}function y(a,b){if(null==a)return{};if(null==a)var c={};else{c={};var e=Object.keys(a),k;for(k=0;k<e.length;k++){var n=e[k];0<=b.indexOf(n)||(c[n]=a[n])}}if(Object.getOwnPropertySymbols)for(k=Object.getOwnPropertySymbols(a),n=0;n<k.length;n++)e=k[n],0<=b.indexOf(e)||Object.prototype.propertyIsEnumerable.call(a,e)&&(c[e]=a[e]);return c}function G(a){if("undefined"!==typeof window&&
window.navigator)return!!navigator.userAgent.match(a)}function v(a,b,c){a.addEventListener(b,c,!za&&wb)}function h(a,b,c){a.removeEventListener(b,c,!za&&wb)}function D(a,b){if(b){"\x3e"===b[0]&&(b=b.substring(1));if(a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(b)}catch(c){}return!1}}function R(a,b,c,e){if(a){c=c||document;do{if(null!=b&&("\x3e"===b[0]?a.parentNode===c&&D(a,b):D(a,b))||e&&a===c)return a;
if(a===c)break}while(a=a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode)}return null}function F(a,b,c){if(a&&b)if(a.classList)a.classList[c?"add":"remove"](b);else{var e=(" "+a.className+" ").replace(xb," ").replace(" "+b+" "," ");a.className=(e+(c?" "+b:"")).replace(xb," ")}}function M(a,b,c){var e=a&&a.style;if(e){if(void 0===c)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:
c[b];b in e||-1!==b.indexOf("webkit")||(b="-webkit-"+b);e[b]=c+("string"===typeof c?"":"px")}}function ia(a,b){var c="";if("string"===typeof a)c=a;else{do{var e=M(a,"transform");e&&"none"!==e&&(c=e+" "+c)}while(!b&&(a=a.parentNode))}return(a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new a(c)}function oa(a,b,c){if(a){a=a.getElementsByTagName(b);b=0;var e=a.length;if(c)for(;b<e;b++)c(a[b],b);return a}return[]}function la(){var a=document.scrollingElement;return a?
a:document.documentElement}function W(a,b,c,e,k){if(a.getBoundingClientRect||a===window){if(a!==window&&a.parentNode&&a!==la()){var n=a.getBoundingClientRect();var t=n.top;var I=n.left;var N=n.bottom;var T=n.right;var U=n.height;var Z=n.width}else I=t=0,N=window.innerHeight,T=window.innerWidth,U=window.innerHeight,Z=window.innerWidth;if((b||c)&&a!==window&&(k=k||a.parentNode,!za)){do if(k&&k.getBoundingClientRect&&("none"!==M(k,"transform")||c&&"static"!==M(k,"position"))){N=k.getBoundingClientRect();
t-=N.top+parseInt(M(k,"border-top-width"));I-=N.left+parseInt(M(k,"border-left-width"));N=t+n.height;T=I+n.width;break}while(k=k.parentNode)}e&&a!==window&&(e=(a=ia(k||a))&&a.a,k=a&&a.d,a&&(t/=k,I/=e,Z/=e,U/=k,N=t+U,T=I+Z));return{top:t,left:I,bottom:N,right:T,width:Z,height:U}}}function S(a,b,c){var e=E(a,!0);for(a=W(a)[b];e;){b=W(e)[c];var k=void 0;k="top"===c||"left"===c?a>=b:a<=b;if(!k)return e;if(e===la())break;e=E(e,!1)}return!1}function l(a,b,c,e){for(var k=0,n=0,t=a.children;n<t.length;){if("none"!==
t[n].style.display&&t[n]!==m.ghost&&(e||t[n]!==m.dragged)&&R(t[n],c.draggable,a,!1)){if(k===b)return t[n];k++}n++}return null}function z(a,b){for(a=a.lastElementChild;a&&(a===m.ghost||"none"===M(a,"display")||b&&!D(a,b));)a=a.previousElementSibling;return a||null}function p(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===m.clone||b&&!D(a,b)||c++;return c}function r(a){var b=0,c=0,e=la();if(a){do{var k=ia(a),n=k.d;b+=a.scrollLeft*
k.a;c+=a.scrollTop*n}while(a!==e&&(a=a.parentNode))}return[b,c]}function O(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var e in b)if(b.hasOwnProperty(e)&&b[e]===a[c][e])return Number(c);return-1}function E(a,b){if(!a||!a.getBoundingClientRect)return la();var c=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var e=M(a);if(a.clientWidth<a.scrollWidth&&("auto"==e.overflowX||"scroll"==e.overflowX)||a.clientHeight<a.scrollHeight&&("auto"==e.overflowY||"scroll"==e.overflowY)){if(!a.getBoundingClientRect||
a===document.body)break;if(c||b)return a;c=!0}}while(a=a.parentNode);return la()}function q(a,b){return Math.round(a.top)===Math.round(b.top)&&Math.round(a.left)===Math.round(b.left)&&Math.round(a.height)===Math.round(b.height)&&Math.round(a.width)===Math.round(b.width)}function H(a,b){return function(){if(!Sa){var c=arguments;1===c.length?a.call(this,c[0]):a.apply(this,c);Sa=setTimeout(function(){Sa=void 0},b)}}}function V(a,b,c){a.scrollLeft+=b;a.scrollTop+=c}function ca(a){var b=window.Polymer,
c=window.jQuery||window.Zepto;return b&&b.dom?b.dom(a).cloneNode(!0):c?c(a).clone(!0)[0]:a.cloneNode(!0)}function ba(){var a=[],b;return{captureAnimationState:function(){a=[];this.options.animation&&[].slice.call(this.el.children).forEach(function(c){if("none"!==M(c,"display")&&c!==m.ghost){a.push({target:c,rect:W(c)});var e=u({},a[a.length-1].rect);if(c.thisAnimationDuration){var k=ia(c,!0);k&&(e.top-=k.f,e.left-=k.e)}c.fromRect=e}})},addAnimationState:function(c){a.push(c)},removeAnimationState:function(c){a.splice(O(a,
{target:c}),1)},animateAll:function(c){var e=this;if(this.options.animation){var k=!1,n=0;a.forEach(function(t){var I=0,N=t.target,T=N.fromRect,U=W(N),Z=N.prevFromRect,pa=N.prevToRect;t=t.rect;var ma=ia(N,!0);ma&&(U.top-=ma.f,U.left-=ma.e);N.toRect=U;N.thisAnimationDuration&&q(Z,U)&&!q(T,U)&&(t.top-U.top)/(t.left-U.left)===(T.top-U.top)/(T.left-U.left)&&(I=Math.sqrt(Math.pow(Z.top-t.top,2)+Math.pow(Z.left-t.left,2))/Math.sqrt(Math.pow(Z.top-pa.top,2)+Math.pow(Z.left-pa.left,2))*e.options.animation);
q(U,T)||(N.prevFromRect=T,N.prevToRect=U,I||(I=e.options.animation),e.animate(N,t,U,I));I&&(k=!0,n=Math.max(n,I),clearTimeout(N.animationResetTimer),N.animationResetTimer=setTimeout(function(){N.animationTime=0;N.prevFromRect=null;N.fromRect=null;N.prevToRect=null;N.thisAnimationDuration=null},I),N.thisAnimationDuration=I)});clearTimeout(b);k?b=setTimeout(function(){"function"===typeof c&&c()},n):"function"===typeof c&&c();a=[]}else clearTimeout(b),"function"===typeof c&&c()},animate:function(c,e,
k,n){if(n){M(c,"transition","");M(c,"transform","");var t=ia(this.el),I=(e.left-k.left)/(t&&t.a||1);e=(e.top-k.top)/(t&&t.d||1);c.animatingX=!!I;c.animatingY=!!e;M(c,"transform","translate3d("+I+"px,"+e+"px,0)");this.forRepaintDummy=c.offsetWidth;M(c,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:""));M(c,"transform","translate3d(0,0,0)");"number"===typeof c.animated&&clearTimeout(c.animated);c.animated=setTimeout(function(){M(c,"transition","");M(c,"transform","");
c.animated=!1;c.animatingX=!1;c.animatingY=!1},n)}}}}function Y(a){var b=u({putSortable:qa,cloneEl:ja,targetEl:C,rootEl:ha,oldIndex:Na,oldDraggableIndex:Ta,newIndex:xa,newDraggableIndex:Ha},a);a=b.sortable;var c=b.rootEl,e=b.name,k=b.targetEl,n=b.cloneEl,t=b.toEl,I=b.fromEl,N=b.oldIndex,T=b.newIndex,U=b.oldDraggableIndex,Z=b.newDraggableIndex,pa=b.originalEvent,ma=b.putSortable,sa=b.extraEventProperties;if(a=a||c&&c[ya]){var fa=a.options,Aa="on"+e.charAt(0).toUpperCase()+e.substr(1);!window.CustomEvent||
za||Ua?(b=document.createEvent("Event"),b.initEvent(e,!0,!0)):b=new CustomEvent(e,{bubbles:!0,cancelable:!0});b.to=t||c;b.from=I||c;b.item=k||c;b.clone=n;b.oldIndex=N;b.newIndex=T;b.oldDraggableIndex=U;b.newDraggableIndex=Z;b.originalEvent=pa;b.pullMode=ma?ma.lastPutMode:void 0;e=u(u({},sa),Va.getEventProperties(e,a));for(var Ba in e)b[Ba]=e[Ba];c&&c.dispatchEvent(b);fa[Aa]&&fa[Aa].call(a,b)}}function m(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));
this.el=a;this.options=b=B({},b);a[ya]=this;var c={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?"\x3eli":"\x3e*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return yb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,t){n.setData("Text",t.textContent)},dropBubble:!1,
dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==m.supportPointer&&"PointerEvent"in window&&!Wa,emptyInsertThreshold:5};Va.initializePlugins(this,a,c);for(var e in c)e in b||(b[e]=c[e]);zb(b);for(var k in this)"_"===k.charAt(0)&&"function"===typeof this[k]&&
(this[k]=this[k].bind(this));if(this.nativeDraggable=b.forceFallback?!1:Jb)this.options.touchStartThreshold=1;b.supportPointer?v(a,"pointerdown",this._onTapStart):(v(a,"mousedown",this._onTapStart),v(a,"touchstart",this._onTapStart));this.nativeDraggable&&(v(a,"dragover",this),v(a,"dragenter",this));bb.push(this.el);b.store&&b.store.get&&this.sort(b.store.get(this)||[]);B(this,ba())}function d(a,b,c,e,k,n,t,I){var N=a[ya],T=N.options.onMove,U;if(!window.CustomEvent||za||Ua){var Z=document.createEvent("Event");
Z.initEvent("move",!0,!0)}else Z=new CustomEvent("move",{bubbles:!0,cancelable:!0});Z.to=b;Z.from=a;Z.dragged=c;Z.draggedRect=e;Z.related=k||b;Z.relatedRect=n||W(b);Z.willInsertAfter=I;Z.originalEvent=t;a.dispatchEvent(Z);T&&(U=T.call(N,Z,t));return U}function f(a){a.draggable=!1}function g(){mb=!1}function x(a,b,c){c=W(l(c.el,0,c.options,!0));return b?a.clientX<c.left-10||a.clientY<c.top&&a.clientX<c.right:a.clientY<c.top-10||a.clientY<c.bottom&&a.clientX<c.left}function A(a,b,c){c=W(z(c.el,c.options.draggable));
return b?a.clientX>c.right+10||a.clientX<=c.right&&a.clientY>c.bottom&&a.clientX>=c.left:a.clientX>c.right&&a.clientY>c.top||a.clientX<=c.right&&a.clientY>c.bottom+10}function L(a,b,c,e,k,n,t,I){a=e?a.clientY:a.clientX;var N=e?c.height:c.width,T=e?c.top:c.left;c=e?c.bottom:c.right;e=!1;if(!t)if(I&&cb<N*k)if(!Xa&&(1===Ya?a>T+N*n/2:a<c-N*n/2)&&(Xa=!0),Xa)e=!0;else{if(1===Ya?a<T+cb:a>c-cb)return-Ya}else if(a>T+N*(1-k)/2&&a<c-N*(1-k)/2)return b=p(C)<p(b)?1:-1,b;if(e||t)if(a<T+N*n/2||a>c-N*n/2)return a>
T+N/2?1:-1;return 0}function J(a){a=a.tagName+a.className+a.src+a.href+a.textContent;for(var b=a.length,c=0;b--;)c+=a.charCodeAt(b);return c.toString(36)}function P(a){db.length=0;a=a.getElementsByTagName("input");for(var b=a.length;b--;){var c=a[b];c.checked&&db.push(c)}}function aa(a){return setTimeout(a,0)}function da(){na.forEach(function(a){clearInterval(a.pid)});na=[]}function ua(){}function ra(){}var za=G(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ua=G(/Edge/i),Ab=G(/firefox/i),
Wa=G(/safari/i)&&!G(/chrome/i)&&!G(/android/i),Za=G(/iP(ad|od|hone)/i),Kb=G(/chrome/i)&&G(/android/i),wb={capture:!1,passive:!1},xb=/\s+/g,Sa,ya="Sortable"+(new Date).getTime(),Oa=[],nb={initializeByDefault:!0},Va={mount:function(a){for(var b in nb)!nb.hasOwnProperty(b)||b in a||(a[b]=nb[b]);Oa.forEach(function(c){if(c.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName," more than once");});Oa.push(a)},pluginEvent:function(a,b,c){var e=this;this.eventCanceled=!1;c.cancel=
function(){e.eventCanceled=!0};var k=a+"Global";Oa.forEach(function(n){if(b[n.pluginName]){if(b[n.pluginName][k])b[n.pluginName][k](u({sortable:b},c));if(b.options[n.pluginName]&&b[n.pluginName][a])b[n.pluginName][a](u({sortable:b},c))}})},initializePlugins:function(a,b,c,e){Oa.forEach(function(n){var t=n.pluginName;if(a.options[t]||n.initializeByDefault)n=new n(a,b,a.options),n.sortable=a,n.options=a.options,a[t]=n,B(c,n.defaults)});for(var k in a.options)a.options.hasOwnProperty(k)&&(e=this.modifyOption(a,
k,a.options[k]),"undefined"!==typeof e&&(a.options[k]=e))},getEventProperties:function(a,b){var c={};Oa.forEach(function(e){"function"===typeof e.eventProperties&&B(c,e.eventProperties.call(b[e.pluginName],a))});return c},modifyOption:function(a,b,c){var e;Oa.forEach(function(k){a[k.pluginName]&&k.optionListeners&&"function"===typeof k.optionListeners[b]&&(e=k.optionListeners[b].call(a[k.pluginName],c))});return e}},Lb=["evt"],wa=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:
{},e=c.evt;c=y(c,Lb);Va.pluginEvent.bind(m)(a,b,u({dragEl:C,parentEl:ka,ghostEl:X,rootEl:ha,nextEl:Ka,lastDownEl:eb,cloneEl:ja,cloneHidden:Ia,dragStarted:$a,putSortable:qa,activeSortable:m.active,originalEvent:e,oldIndex:Na,oldDraggableIndex:Ta,newIndex:xa,newDraggableIndex:Ha,hideGhostForTarget:Bb,unhideGhostForTarget:Cb,cloneNowHidden:function(){Ia=!0},cloneNowShown:function(){Ia=!1},dispatchSortableEvent:function(k){Y({sortable:b,name:k,originalEvent:e})}},c))},C,ka,X,ha,Ka,eb,ja,Ia,Na,xa,Ta,Ha,
fb,qa,Pa=!1,gb=!1,bb=[],La,Ca,ob,pb,Db,Eb,$a,Qa,Ya,Xa=!1,hb=!1,cb,ta,qb=[],mb=!1,db=[],ib="undefined"!==typeof document,Fb=Ua||za?"cssFloat":"float",Jb=ib&&!Kb&&!Za&&"draggable"in document.createElement("div"),Gb=function(){if(ib){if(za)return!1;var a=document.createElement("x");a.style.cssText="pointer-events:auto";return"auto"===a.style.pointerEvents}}(),yb=function(a,b){var c=M(a),e=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),
k=l(a,0,b);a=l(a,1,b);var n=k&&M(k);b=a&&M(a);var t=n&&parseInt(n.marginLeft)+parseInt(n.marginRight)+W(k).width,I=b&&parseInt(b.marginLeft)+parseInt(b.marginRight)+W(a).width;return"flex"===c.display?"column"===c.flexDirection||"column-reverse"===c.flexDirection?"vertical":"horizontal":"grid"===c.display?1>=c.gridTemplateColumns.split(" ").length?"vertical":"horizontal":k&&n["float"]&&"none"!==n["float"]?(c="left"===n["float"]?"left":"right",!a||"both"!==b.clear&&b.clear!==c?"horizontal":"vertical"):
k&&("block"===n.display||"flex"===n.display||"table"===n.display||"grid"===n.display||t>=e&&"none"===c[Fb]||a&&"none"===c[Fb]&&t+I>e)?"vertical":"horizontal"},Mb=function(a,b,c){var e=c?a.left:a.top,k=c?a.right:a.bottom;a=c?a.width:a.height;var n=c?b.left:b.top,t=c?b.right:b.bottom;b=c?b.width:b.height;return e===n||k===t||e+a/2===n+b/2},Nb=function(a,b){var c;bb.some(function(e){var k=e[ya].options.emptyInsertThreshold;if(k&&!z(e)){var n=W(e),t=b>=n.top-k&&b<=n.bottom+k;if(a>=n.left-k&&a<=n.right+
k&&t)return c=e}});return c},zb=function(a){function b(k,n){return function(t,I,N,T){var U=t.options.group.name&&I.options.group.name&&t.options.group.name===I.options.group.name;if(null==k&&(n||U))return!0;if(null==k||!1===k)return!1;if(n&&"clone"===k)return k;if("function"===typeof k)return b(k(t,I,N,T),n)(t,I,N,T);t=(n?t:I).options.group.name;return!0===k||"string"===typeof k&&k===t||k.join&&-1<k.indexOf(t)}}var c={},e=a.group;e&&"object"==w(e)||(e={name:e});c.name=e.name;c.checkPull=b(e.pull,
!0);c.checkPut=b(e.put);c.revertClone=e.revertClone;a.group=c},Bb=function(){!Gb&&X&&M(X,"display","none")},Cb=function(){!Gb&&X&&M(X,"display","")};ib&&document.addEventListener("click",function(a){if(gb)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),gb=!1},!0);var Ma=function(a){if(C){a=a.touches?a.touches[0]:a;var b=Nb(a.clientX,a.clientY);if(b){var c={},e;for(e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);c.target=c.rootEl=b;
c.preventDefault=void 0;c.stopPropagation=void 0;b[ya]._onDragOver(c)}}},Ob=function(a){C&&C.parentNode[ya]._isOutsideThisEl(a.target)};m.prototype={constructor:m,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(Qa=null)},_getDirection:function(a,b){return"function"===typeof this.options.direction?this.options.direction.call(this,a,b,C):this.options.direction},_onTapStart:function(a){if(a.cancelable){var b=this,c=this.el,e=this.options,k=e.preventOnFilter,n=a.type,t=a.touches&&a.touches[0]||
a.pointerType&&"touch"===a.pointerType&&a,I=(t||a).target,N=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||I,T=e.filter;P(c);if(!(C||/mousedown|pointerdown/.test(n)&&0!==a.button||e.disabled||N.isContentEditable||!this.nativeDraggable&&Wa&&I&&"SELECT"===I.tagName.toUpperCase()||(I=R(I,e.draggable,c,!1),I&&I.animated||eb===I))){Na=p(I);Ta=p(I,e.draggable);if("function"===typeof T){if(T.call(this,a,I,this)){Y({sortable:b,rootEl:N,name:"filter",targetEl:I,toEl:c,fromEl:c});
wa("filter",b,{evt:a});k&&a.cancelable&&a.preventDefault();return}}else if(T&&(T=T.split(",").some(function(U){if(U=R(N,U.trim(),c,!1))return Y({sortable:b,rootEl:U,name:"filter",targetEl:I,fromEl:c,toEl:c}),wa("filter",b,{evt:a}),!0}))){k&&a.cancelable&&a.preventDefault();return}e.handle&&!R(N,e.handle,c,!1)||this._prepareDragStart(a,t,I)}}},_prepareDragStart:function(a,b,c){var e=this,k=e.el,n=e.options,t=k.ownerDocument;if(c&&!C&&c.parentNode===k){var I=W(c);ha=k;C=c;ka=C.parentNode;Ka=C.nextSibling;
eb=c;fb=n.group;m.dragged=C;La={target:C,clientX:(b||a).clientX,clientY:(b||a).clientY};Db=La.clientX-I.left;Eb=La.clientY-I.top;this._lastX=(b||a).clientX;this._lastY=(b||a).clientY;C.style["will-change"]="all";c=function(){wa("delayEnded",e,{evt:a});m.eventCanceled?e._onDrop():(e._disableDelayedDragEvents(),!Ab&&e.nativeDraggable&&(C.draggable=!0),e._triggerDragStart(a,b),Y({sortable:e,name:"choose",originalEvent:a}),F(C,n.chosenClass,!0))};n.ignore.split(",").forEach(function(N){oa(C,N.trim(),
f)});v(t,"dragover",Ma);v(t,"mousemove",Ma);v(t,"touchmove",Ma);v(t,"mouseup",e._onDrop);v(t,"touchend",e._onDrop);v(t,"touchcancel",e._onDrop);Ab&&this.nativeDraggable&&(this.options.touchStartThreshold=4,C.draggable=!0);wa("delayStart",this,{evt:a});!n.delay||n.delayOnTouchOnly&&!b||this.nativeDraggable&&(Ua||za)?c():m.eventCanceled?this._onDrop():(v(t,"mouseup",e._disableDelayedDrag),v(t,"touchend",e._disableDelayedDrag),v(t,"touchcancel",e._disableDelayedDrag),v(t,"mousemove",e._delayedDragTouchMoveHandler),
v(t,"touchmove",e._delayedDragTouchMoveHandler),n.supportPointer&&v(t,"pointermove",e._delayedDragTouchMoveHandler),e._dragStartTimer=setTimeout(c,n.delay))}},_delayedDragTouchMoveHandler:function(a){a=a.touches?a.touches[0]:a;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){C&&f(C);clearTimeout(this._dragStartTimer);
this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;h(a,"mouseup",this._disableDelayedDrag);h(a,"touchend",this._disableDelayedDrag);h(a,"touchcancel",this._disableDelayedDrag);h(a,"mousemove",this._delayedDragTouchMoveHandler);h(a,"touchmove",this._delayedDragTouchMoveHandler);h(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,b){b=b||"touch"==a.pointerType&&a;!this.nativeDraggable||b?this.options.supportPointer?v(document,
"pointermove",this._onTouchMove):b?v(document,"touchmove",this._onTouchMove):v(document,"mousemove",this._onTouchMove):(v(C,"dragend",this),v(ha,"dragstart",this._onDragStart));try{document.selection?aa(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(c){}},_dragStarted:function(a,b){Pa=!1;if(ha&&C){wa("dragStarted",this,{evt:b});this.nativeDraggable&&v(document,"dragover",Ob);var c=this.options;!a&&F(C,c.dragClass,!1);F(C,c.ghostClass,!0);m.active=this;a&&this._appendGhost();
Y({sortable:this,name:"start",originalEvent:b})}else this._nulling()},_emulateDragOver:function(){if(Ca){this._lastX=Ca.clientX;this._lastY=Ca.clientY;Bb();for(var a=document.elementFromPoint(Ca.clientX,Ca.clientY),b=a;a&&a.shadowRoot;){a=a.shadowRoot.elementFromPoint(Ca.clientX,Ca.clientY);if(a===b)break;b=a}C.parentNode[ya]._isOutsideThisEl(a);if(b){do{if(b[ya]){var c=void 0;if((c=b[ya]._onDragOver({clientX:Ca.clientX,clientY:Ca.clientY,target:a,rootEl:b}))&&!this.options.dragoverBubble)break}a=
b}while(b=b.parentNode)}Cb()}},_onTouchMove:function(a){if(La){var b=this.options,c=b.fallbackTolerance,e=b.fallbackOffset;b=a.touches?a.touches[0]:a;var k=X&&ia(X,!0),n=X&&k&&k.a,t=X&&k&&k.d,I=Za&&ta&&r(ta);n=(b.clientX-La.clientX+e.x)/(n||1)+(I?I[0]-qb[0]:0)/(n||1);e=(b.clientY-La.clientY+e.y)/(t||1)+(I?I[1]-qb[1]:0)/(t||1);if(!m.active&&!Pa){if(c&&Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))<c)return;this._onDragStart(a,!0)}X&&(k?(k.e+=n-(ob||0),k.f+=e-(pb||0)):k={a:1,
b:0,c:0,d:1,e:n,f:e},c="matrix(".concat(k.a,",").concat(k.b,",").concat(k.c,",").concat(k.d,",").concat(k.e,",").concat(k.f,")"),M(X,"webkitTransform",c),M(X,"mozTransform",c),M(X,"msTransform",c),M(X,"transform",c),ob=n,pb=e,Ca=b);a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!X){var a=this.options.fallbackOnBody?document.body:ha,b=W(C,!0,Za,!0,a),c=this.options;if(Za){for(ta=a;"static"===M(ta,"position")&&"none"===M(ta,"transform")&&ta!==document;)ta=ta.parentNode;ta!==document.body&&
ta!==document.documentElement?(ta===document&&(ta=la()),b.top+=ta.scrollTop,b.left+=ta.scrollLeft):ta=la();qb=r(ta)}X=C.cloneNode(!0);F(X,c.ghostClass,!1);F(X,c.fallbackClass,!0);F(X,c.dragClass,!0);M(X,"transition","");M(X,"transform","");M(X,"box-sizing","border-box");M(X,"margin",0);M(X,"top",b.top);M(X,"left",b.left);M(X,"width",b.width);M(X,"height",b.height);M(X,"opacity","0.8");M(X,"position",Za?"absolute":"fixed");M(X,"zIndex","100000");M(X,"pointerEvents","none");m.ghost=X;a.appendChild(X);
M(X,"transform-origin",Db/parseInt(X.style.width)*100+"% "+Eb/parseInt(X.style.height)*100+"%")}},_onDragStart:function(a,b){var c=this,e=a.dataTransfer,k=c.options;wa("dragStart",this,{evt:a});m.eventCanceled?this._onDrop():(wa("setupClone",this),m.eventCanceled||(ja=ca(C),ja.draggable=!1,ja.style["will-change"]="",this._hideClone(),F(ja,this.options.chosenClass,!1),m.clone=ja),c.cloneId=aa(function(){wa("clone",c);m.eventCanceled||(c.options.removeCloneOnHide||ha.insertBefore(ja,C),c._hideClone(),
Y({sortable:c,name:"clone"}))}),!b&&F(C,k.dragClass,!0),b?(gb=!0,c._loopId=setInterval(c._emulateDragOver,50)):(h(document,"mouseup",c._onDrop),h(document,"touchend",c._onDrop),h(document,"touchcancel",c._onDrop),e&&(e.effectAllowed="move",k.setData&&k.setData.call(c,e,C)),v(document,"drop",c),M(C,"transform","translateZ(0)")),Pa=!0,c._dragStartId=aa(c._dragStarted.bind(c,b,a)),v(document,"selectstart",c),$a=!0,Wa&&M(document.body,"user-select","none"))},_onDragOver:function(a){function b(Ja,jb){wa(Ja,
fa,u({evt:a,isOwner:pa,axis:Ba?"vertical":"horizontal",revert:N,dragRect:Da,targetRect:I,canSort:ma,fromSortable:sa,target:t,completed:e,onMove:function(Hb,Pb){return d(ha,n,C,Da,Hb,W(Hb),a,Pb)},changed:k},jb))}function c(){b("dragOverAnimationCapture");fa.captureAnimationState();fa!==sa&&sa.captureAnimationState()}function e(Ja){b("dragOverCompleted",{insertion:Ja});Ja&&(pa?Z._hideClone():Z._showClone(fa),fa!==sa&&(F(C,qa?qa.options.ghostClass:Z.options.ghostClass,!1),F(C,T.ghostClass,!0)),qa!==
fa&&fa!==m.active?qa=fa:fa===m.active&&qa&&(qa=null),sa===fa&&(fa._ignoreWhileAnimating=t),fa.animateAll(function(){b("dragOverAnimationComplete");fa._ignoreWhileAnimating=null}),fa!==sa&&(sa.animateAll(),sa._ignoreWhileAnimating=null));if(t===C&&!C.animated||t===n&&!t.animated)Qa=null;T.dragoverBubble||a.rootEl||t===document||(C.parentNode[ya]._isOutsideThisEl(a.target),!Ja&&Ma(a));!T.dragoverBubble&&a.stopPropagation&&a.stopPropagation();return Aa=!0}function k(){xa=p(C);Ha=p(C,T.draggable);Y({sortable:fa,
name:"change",toEl:n,newIndex:xa,newDraggableIndex:Ha,originalEvent:a})}var n=this.el,t=a.target,I,N,T=this.options,U=T.group,Z=m.active,pa=fb===U,ma=T.sort,sa=qa||Z,fa=this,Aa=!1;if(!mb){void 0!==a.preventDefault&&a.cancelable&&a.preventDefault();t=R(t,T.draggable,n,!0);b("dragOver");if(m.eventCanceled)return Aa;if(C.contains(a.target)||t.animated&&t.animatingX&&t.animatingY||fa._ignoreWhileAnimating===t)return e(!1);gb=!1;if(Z&&!T.disabled&&(pa?ma||(N=ka!==ha):qa===this||(this.lastPutMode=fb.checkPull(this,
Z,C,a))&&U.checkPut(this,Z,C,a))){var Ba="vertical"===this._getDirection(a,t);var Da=W(C);b("dragOverValid");if(m.eventCanceled)return Aa;if(N)return ka=ha,c(),this._hideClone(),b("revert"),m.eventCanceled||(Ka?ha.insertBefore(C,Ka):ha.appendChild(C)),e(!0);U=z(n,T.draggable);if(!U||A(a,Ba,this)&&!U.animated){if(U===C)return e(!1);U&&n===a.target&&(t=U);t&&(I=W(t));if(!1!==d(ha,n,C,Da,t,I,a,!!t))return c(),n.appendChild(C),ka=n,k(),e(!0)}else if(U&&x(a,Ba,this)){var Ea=l(n,0,T,!0);if(Ea===C)return e(!1);
t=Ea;I=W(t);if(!1!==d(ha,n,C,Da,t,I,a,!1))return c(),n.insertBefore(C,Ea),ka=n,k(),e(!0)}else if(t.parentNode===n){I=W(t);var ea=0;ea=C.parentNode!==n;var va=!Mb(C.animated&&C.toRect||Da,t.animated&&t.toRect||I,Ba);U=Ba?"top":"left";var Ga=S(t,"top","top")||S(C,"top","top"),kb=Ga?Ga.scrollTop:void 0;Qa!==t&&(Ea=I[U],Xa=!1,hb=!va&&T.invertSwap||ea);ea=L(a,t,I,Ba,va?1:T.swapThreshold,null==T.invertedSwapThreshold?T.swapThreshold:T.invertedSwapThreshold,hb,Qa===t);if(0!==ea){va=p(C);do{va-=ea;var Fa=
ka.children[va]}while(Fa&&("none"===M(Fa,"display")||Fa===X))}if(0===ea||Fa===t)return e(!1);Qa=t;Ya=ea;Fa=t.nextElementSibling;va=!1;va=1===ea;ea=d(ha,n,C,Da,t,I,a,va);if(!1!==ea){if(1===ea||-1===ea)va=1===ea;mb=!0;setTimeout(g,30);c();va&&!Fa?n.appendChild(C):t.parentNode.insertBefore(C,va?Fa:t);Ga&&V(Ga,0,kb-Ga.scrollTop);ka=C.parentNode;void 0===Ea||hb||(cb=Math.abs(Ea-W(t)[U]));k();return e(!0)}}if(n.contains(C))return e(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){h(document,
"mousemove",this._onTouchMove);h(document,"touchmove",this._onTouchMove);h(document,"pointermove",this._onTouchMove);h(document,"dragover",Ma);h(document,"mousemove",Ma);h(document,"touchmove",Ma)},_offUpEvents:function(){var a=this.el.ownerDocument;h(a,"mouseup",this._onDrop);h(a,"touchend",this._onDrop);h(a,"pointerup",this._onDrop);h(a,"touchcancel",this._onDrop);h(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;xa=p(C);Ha=p(C,c.draggable);wa("drop",this,{evt:a});
ka=C&&C.parentNode;xa=p(C);Ha=p(C,c.draggable);if(!m.eventCanceled&&(Xa=hb=Pa=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),clearTimeout(this.cloneId),clearTimeout(this._dragStartId),this.nativeDraggable&&(h(document,"drop",this),h(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wa&&M(document.body,"user-select",""),M(C,"transform",""),a&&($a&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),X&&X.parentNode&&X.parentNode.removeChild(X),
(ha===ka||qa&&"clone"!==qa.lastPutMode)&&ja&&ja.parentNode&&ja.parentNode.removeChild(ja),C&&(this.nativeDraggable&&h(C,"dragend",this),f(C),C.style["will-change"]="",$a&&!Pa&&F(C,qa?qa.options.ghostClass:this.options.ghostClass,!1),F(C,this.options.chosenClass,!1),Y({sortable:this,name:"unchoose",toEl:ka,newIndex:null,newDraggableIndex:null,originalEvent:a}),ha!==ka?(0<=xa&&(Y({rootEl:ka,name:"add",toEl:ka,fromEl:ha,originalEvent:a}),Y({sortable:this,name:"remove",toEl:ka,originalEvent:a}),Y({rootEl:ka,
name:"sort",toEl:ka,fromEl:ha,originalEvent:a}),Y({sortable:this,name:"sort",toEl:ka,originalEvent:a})),qa&&qa.save()):xa!==Na&&0<=xa&&(Y({sortable:this,name:"update",toEl:ka,originalEvent:a}),Y({sortable:this,name:"sort",toEl:ka,originalEvent:a})),m.active)))){if(null==xa||-1===xa)xa=Na,Ha=Ta;Y({sortable:this,name:"end",toEl:ka,originalEvent:a});this.save()}this._nulling()},_nulling:function(){wa("nulling",this);ha=C=ka=X=Ka=ja=eb=Ia=La=Ca=$a=xa=Ha=Na=Ta=Qa=Ya=qa=fb=m.dragged=m.ghost=m.clone=m.active=
null;db.forEach(function(a){a.checked=!0});db.length=ob=pb=0},handleEvent:function(a){switch(a.type){case "drop":case "dragend":this._onDrop(a);break;case "dragenter":case "dragover":C&&(this._onDragOver(a),a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault());break;case "selectstart":a.preventDefault()}},toArray:function(){for(var a=[],b,c=this.el.children,e=0,k=c.length,n=this.options;e<k;e++)b=c[e],R(b,n.draggable,this.el,!1)&&a.push(b.getAttribute(n.dataIdAttr)||
J(b));return a},sort:function(a,b){var c={},e=this.el;this.toArray().forEach(function(k,n){n=e.children[n];R(n,this.options.draggable,e,!1)&&(c[k]=n)},this);b&&this.captureAnimationState();a.forEach(function(k){c[k]&&(e.removeChild(c[k]),e.appendChild(c[k]))});b&&this.animateAll()},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return R(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var c=this.options;if(void 0===b)return c[a];var e=Va.modifyOption(this,
a,b);c[a]="undefined"!==typeof e?e:b;"group"===a&&zb(c)},destroy:function(){wa("destroy",this);var a=this.el;a[ya]=null;h(a,"mousedown",this._onTapStart);h(a,"touchstart",this._onTapStart);h(a,"pointerdown",this._onTapStart);this.nativeDraggable&&(h(a,"dragover",this),h(a,"dragenter",this));Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(b){b.removeAttribute("draggable")});this._onDrop();this._disableDelayedDragEvents();bb.splice(bb.indexOf(this.el),1);this.el=a=null},_hideClone:function(){Ia||
(wa("hideClone",this),m.eventCanceled||(M(ja,"display","none"),this.options.removeCloneOnHide&&ja.parentNode&&ja.parentNode.removeChild(ja),Ia=!0))},_showClone:function(a){"clone"!==a.lastPutMode?this._hideClone():Ia&&(wa("showClone",this),m.eventCanceled||(C.parentNode!=ha||this.options.group.revertClone?Ka?ha.insertBefore(ja,Ka):ha.appendChild(ja):ha.insertBefore(ja,C),this.options.group.revertClone&&this.animate(C,ja),M(ja,"display",""),Ia=!1))}};ib&&v(document,"touchmove",function(a){(m.active||
Pa)&&a.cancelable&&a.preventDefault()});m.utils={on:v,off:h,css:M,find:oa,is:function(a,b){return!!R(a,b,a,!1)},extend:function(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},throttle:H,closest:R,toggleClass:F,clone:ca,index:p,nextTick:aa,cancelNextTick:function(a){return clearTimeout(a)},detectDirection:yb,getChild:l};m.get=function(a){return a[ya]};m.mount=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===Array&&(b=b[0]);b.forEach(function(e){if(!e.prototype||
!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(m.utils=u(u({},m.utils),e.utils));Va.mount(e)})};m.create=function(a,b){return new m(a,b)};m.version="1.14.0";var na=[],ab,rb,sb=!1,tb,ub,lb,Ra,vb=H(function(a,b,c,e){if(b.scroll){var k=(a.touches?a.touches[0]:a).clientX,n=(a.touches?a.touches[0]:a).clientY,t=b.scrollSensitivity,I=b.scrollSpeed,N=la(),T=!1;if(rb!==c){rb=c;da();ab=b.scroll;var U=b.scrollFn;!0===ab&&(ab=
E(c,!0))}c=0;var Z=ab;do{var pa=Z,ma=W(pa),sa=ma.top,fa=ma.bottom,Aa=ma.left,Ba=ma.right,Da=ma.width;ma=ma.height;var Ea=void 0,ea=void 0,va=pa.scrollWidth,Ga=pa.scrollHeight;ea=M(pa);var kb=pa.scrollLeft,Fa=pa.scrollTop;pa===N?(Ea=Da<va&&("auto"===ea.overflowX||"scroll"===ea.overflowX||"visible"===ea.overflowX),ea=ma<Ga&&("auto"===ea.overflowY||"scroll"===ea.overflowY||"visible"===ea.overflowY)):(Ea=Da<va&&("auto"===ea.overflowX||"scroll"===ea.overflowX),ea=ma<Ga&&("auto"===ea.overflowY||"scroll"===
ea.overflowY));Aa=Ea&&(Math.abs(Ba-k)<=t&&kb+Da<va)-(Math.abs(Aa-k)<=t&&!!kb);sa=ea&&(Math.abs(fa-n)<=t&&Fa+ma<Ga)-(Math.abs(sa-n)<=t&&!!Fa);if(!na[c])for(fa=0;fa<=c;fa++)na[fa]||(na[fa]={});if(na[c].vx!=Aa||na[c].vy!=sa||na[c].el!==pa)if(na[c].el=pa,na[c].vx=Aa,na[c].vy=sa,clearInterval(na[c].pid),0!=Aa||0!=sa)T=!0,na[c].pid=setInterval(function(){e&&0===this.layer&&m.active._onTouchMove(lb);var Ja=na[this.layer].vy?na[this.layer].vy*I:0,jb=na[this.layer].vx?na[this.layer].vx*I:0;"function"===typeof U&&
"continue"!==U.call(m.dragged.parentNode[ya],jb,Ja,a,lb,na[this.layer].el)||V(na[this.layer].el,jb,Ja)}.bind({layer:c}),24);c++}while(b.bubbleScroll&&Z!==N&&(Z=E(Z,!1)));sb=T}},30),Ib=function(a){var b=a.originalEvent,c=a.putSortable,e=a.dragEl,k=a.activeSortable,n=a.dispatchSortableEvent,t=a.hideGhostForTarget;a=a.unhideGhostForTarget;b&&(k=c||k,t(),b=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,b=document.elementFromPoint(b.clientX,b.clientY),a(),k&&!k.el.contains(b)&&(n("spill"),
this.onSpill({dragEl:e,putSortable:c})))};ua.prototype={startIndex:null,dragStart:function(a){this.startIndex=a.oldDraggableIndex},onSpill:function(a){var b=a.dragEl;a=a.putSortable;this.sortable.captureAnimationState();a&&a.captureAnimationState();var c=l(this.sortable.el,this.startIndex,this.options);c?this.sortable.el.insertBefore(b,c):this.sortable.el.appendChild(b);this.sortable.animateAll();a&&a.animateAll()},drop:Ib};B(ua,{pluginName:"revertOnSpill"});ra.prototype={onSpill:function(a){var b=
a.dragEl;a=a.putSortable||this.sortable;a.captureAnimationState();b.parentNode&&b.parentNode.removeChild(b);a.animateAll()},drop:Ib};B(ra,{pluginName:"removeOnSpill"});m.mount(new function(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var b in this)"_"===b.charAt(0)&&"function"===typeof this[b]&&(this[b]=this[b].bind(this))}a.prototype={dragStarted:function(b){b=b.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",
this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):b.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(b){b=b.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):(h(document,"pointermove",this._handleFallbackAutoScroll),h(document,
"touchmove",this._handleFallbackAutoScroll),h(document,"mousemove",this._handleFallbackAutoScroll));clearInterval(Ra);da();clearTimeout(Sa);Sa=void 0},nulling:function(){lb=rb=ab=sb=Ra=tb=ub=null;na.length=0},_handleFallbackAutoScroll:function(b){this._handleAutoScroll(b,!0)},_handleAutoScroll:function(b,c){var e=this,k=(b.touches?b.touches[0]:b).clientX,n=(b.touches?b.touches[0]:b).clientY,t=document.elementFromPoint(k,n);lb=b;if(c||this.options.forceAutoScrollFallback||Ua||za||Wa){vb(b,this.options,
t,c);var I=E(t,!0);!sb||Ra&&k===tb&&n===ub||(Ra&&clearInterval(Ra),Ra=setInterval(function(){var N=E(document.elementFromPoint(k,n),!0);N!==I&&(I=N,da());vb(b,e.options,N,c)},10),tb=k,ub=n)}else this.options.bubbleScroll&&E(t,!0)!==la()?vb(b,this.options,E(t,!1),!1):da()}};return B(a,{pluginName:"scroll",initializeByDefault:!0})});m.mount(ra,ua);Q.Sortable=m})},"widgets/LayerList/LayerItem":function(){define("dojo/_base/html dojo/_base/declare dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/text!./LayerItem.html dojo/_base/lang jimu/dijit/CheckBox".split(" "),
function(Q,K,u,w,B,y,G){return K([u,w,B],{templateString:y,sceneView:null,layer:null,baseClass:"jimu-widget-layeritem",nls:null,postCreate:function(){this.inherited(arguments);this.cbx.onChange=G.hitch(this,this._onCbxChanged);this.own(this.layer.watch("title",G.hitch(this,function(){this._updateTitleUI()})));this.own(this.layer.watch("visible",G.hitch(this,function(){this._updateVisibilityUI()})));this.layer.when(G.hitch(this,function(){this.domNode&&(this._updateTitleUI(),this._updateVisibilityUI())}),
G.hitch(this,function(v){console.error(v);this.domNode&&Q.addClass(this.domNode,"not-loaded")}));this._updateTitleUI()},_onClickSelf:function(v){v=v.target;v===this.cbx.domNode||Q.isDescendant(v,this.cbx.domNode)||this.cbx.setValue(!this.cbx.getValue())},_updateTitleUI:function(){this.cbx.setLabel(this.layer.title||this.layer.name||this.layer.mapName||"")},_updateVisibilityUI:function(){var v=this.layer.get("visible");v!==this.cbx.getValue()&&this.cbx.setValue(v);this.domNode.title=this.layer.title},
_onCbxChanged:function(){this.cbx.getValue()!==this.layer.get("visible")&&this.layer.set("visible",this.cbx.getValue())},_onBtnZoomClicked:function(v){v.stopPropagation();if(v=this.layer.extent||this.layer.fullExtent)v=v.expand(1.2),this.sceneView.goTo(v)},destroy:function(){this.layer=this.sceneView=null;this.inherited(arguments)}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(Q,K,u,w,B){return u("dijit._WidgetsInTemplateMixin",
null,{_earlyTemplatedStartup:!1,contextRequire:null,_beforeFillContent:function(){if(/dojoType|data-dojo-type/i.test(this.domNode.innerHTML)){var y=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);B.parse(y,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(w.hitch(this,function(G){this._startupWidgets=G;for(var v=0;v<G.length;v++)this._processTemplateNode(G[v],
function(h,D){return h[D]},function(h,D,R){return D in h?h.connect(h,D,R):h.on(D,R,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(y,G,v){return G(y,"dojoType")||G(y,"data-dojo-type")?
!0:this.inherited(arguments)},startup:function(){Q.forEach(this._startupWidgets,function(y){y&&!y._started&&y.startup&&y.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(Q,K,u,w,B,y,G,v,h,D,R,F,M,ia,oa,la){function W(p){return eval("("+p+")")}function S(p){var r=
p._nameCaseMap,O=p.prototype;if(!r||r._extendCnt<z){r=p._nameCaseMap={};for(var E in O)"_"!==E.charAt(0)&&(r[E.toLowerCase()]=E);r._extendCnt=z}return r}function l(p,r){r||(r=Q);var O=r._dojoParserCtorMap||(r._dojoParserCtorMap={}),E=p.join();if(!O[E]){for(var q=[],H=0,V=p.length;H<V;H++){var ca=p[H];q[q.length]=O[ca]=O[ca]||u.getObject(ca)||~ca.indexOf("/")&&r(ca)}p=q.shift();O[E]=q.length?p.createSubclass?p.createSubclass(q):p.extend.apply(p,q):p}return O[E]}new Date("X");var z=0;h.after(u,"extend",
function(){z++},!0);M={_clearCache:function(){z++;_ctorMap={}},_functionFromScript:function(p,r){var O="",E="",q=p.getAttribute(r+"args")||p.getAttribute("args");r=p.getAttribute("with");q=(q||"").split(/\s*,\s*/);r&&r.length&&w.forEach(r.split(/\s*,\s*/),function(H){O+="with("+H+"){";E+="}"});return new Function(q,O+p.innerHTML+E)},instantiate:function(p,r,O){r=r||{};O=O||{};var E=(O.scope||K._scopeName)+"Type",q="data-"+(O.scope||K._scopeName)+"-",H=q+"type",V=q+"mixins",ca=[];w.forEach(p,function(ba){var Y=
E in r?r[E]:ba.getAttribute(H)||ba.getAttribute(E);if(Y){var m=ba.getAttribute(V);Y=m?[Y].concat(m.split(/\s*,\s*/)):[Y];ca.push({node:ba,types:Y})}});return this._instantiate(ca,r,O)},_instantiate:function(p,r,O,E){function q(H){r._started||O.noStart||w.forEach(H,function(V){"function"!==typeof V.startup||V._started||V.startup()});return H}p=w.map(p,function(H){var V=H.ctor||l(H.types,O.contextRequire);if(!V)throw Error("Unable to resolve constructor for: '"+H.types.join()+"'");return this.construct(V,
H.node,r,O,H.scripts,H.inherited)},this);return E?D(p).then(q):q(p)},construct:function(p,r,O,E,q,H){function V(ra){x&&u.setObject(x,ra);for(f=0;f<P.length;f++)h[P[f].advice||"after"](ra,P[f].method,u.hitch(ra,P[f].func),!0);for(f=0;f<aa.length;f++)aa[f].call(ra);for(f=0;f<da.length;f++)ra.watch(da[f].prop,da[f].func);for(f=0;f<ua.length;f++)oa(ra,ua[f].event,ua[f].func);return ra}var ca=p&&p.prototype;E=E||{};var ba={};E.defaults&&u.mixin(ba,E.defaults);H&&u.mixin(ba,H);var Y=r.attributes;var m=
E.scope||K._scopeName;H="data-"+m+"-";var d={};"dojo"!==m&&(d[H+"props"]="data-dojo-props",d[H+"type"]="data-dojo-type",d[H+"mixins"]="data-dojo-mixins",d[m+"type"]="dojotype",d[H+"id"]="data-dojo-id");var f=0,g;m=[];for(var x,A;g=Y[f++];){var L=g.name,J=L.toLowerCase();g=g.value;switch(d[J]||J){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":A=g;break;case "data-dojo-id":case "jsid":x=g;break;case "data-dojo-attach-point":case "dojoattachpoint":ba.dojoAttachPoint=
g;break;case "data-dojo-attach-event":case "dojoattachevent":ba.dojoAttachEvent=g;break;case "class":ba["class"]=r.className;break;case "style":ba.style=r.style&&r.style.cssText;break;default:if(L in ca||(L=S(p)[J]||L),L in ca)switch(typeof ca[L]){case "string":ba[L]=g;break;case "number":ba[L]=g.length?Number(g):NaN;break;case "boolean":ba[L]="false"!=g.toLowerCase();break;case "function":""===g||-1!=g.search(/[^\w\.]+/i)?ba[L]=new Function(g):ba[L]=u.getObject(g,!1)||new Function(g);m.push(L);break;
default:J=ca[L],ba[L]=J&&"length"in J?g?g.split(/\s*,\s*/):[]:J instanceof Date?""==g?new Date(""):"now"==g?new Date:R.fromISOString(g):J instanceof v?K.baseUrl+g:W(g)}else ba[L]=g}}for(Y=0;Y<m.length;Y++)d=m[Y].toLowerCase(),r.removeAttribute(d),r[d]=null;if(A)try{A=W.call(E.propsThis,"{"+A+"}"),u.mixin(ba,A)}catch(ra){throw Error(ra.toString()+" in data-dojo-props\x3d'"+A+"'");}u.mixin(ba,O);q||(q=p&&(p._noScript||ca._noScript)?[]:ia("\x3e script[type^\x3d'dojo/']",r));var P=[],aa=[],da=[],ua=[];
if(q)for(f=0;f<q.length;f++)d=q[f],r.removeChild(d),O=d.getAttribute(H+"event")||d.getAttribute("event"),E=d.getAttribute(H+"prop"),A=d.getAttribute(H+"method"),m=d.getAttribute(H+"advice"),Y=d.getAttribute("type"),d=this._functionFromScript(d,H),O?"dojo/connect"==Y?P.push({method:O,func:d}):"dojo/on"==Y?ua.push({event:O,func:d}):ba[O]=d:"dojo/aspect"==Y?P.push({method:A,advice:m,func:d}):"dojo/watch"==Y?da.push({prop:E,func:d}):aa.push(d);p=(q=p.markupFactory||ca.markupFactory)?q(ba,r,p):new p(ba,
r);return p.then?p.then(V):V(p)},scan:function(p,r){function O(J){if(!J.inherited){J.inherited={};var P=J.node,aa=O(J.parent);P={dir:P.getAttribute("dir")||aa.dir,lang:P.getAttribute("lang")||aa.lang,textDir:P.getAttribute(Y)||aa.textDir};for(var da in P)P[da]&&(J.inherited[da]=P[da])}return J.inherited}var E=[],q=[],H={},V=(r.scope||K._scopeName)+"Type",ca="data-"+(r.scope||K._scopeName)+"-",ba=ca+"type",Y=ca+"textdir";ca+="mixins";var m=p.firstChild,d=r.inherited;if(!d){d=function da(P,aa){return P.getAttribute&&
P.getAttribute(aa)||P.parentNode&&da(P.parentNode,aa)};d={dir:d(p,"dir"),lang:d(p,"lang"),textDir:d(p,Y)};for(var f in d)d[f]||delete d[f]}f={inherited:d};for(var g,x;;)if(m)if(1!=m.nodeType)m=m.nextSibling;else if(g&&"script"==m.nodeName.toLowerCase())(d=m.getAttribute("type"))&&/^dojo\/\w/i.test(d)&&g.push(m),m=m.nextSibling;else if(x)m=m.nextSibling;else if(d=m.getAttribute(ba)||m.getAttribute(V),p=m.firstChild,d||p&&(3!=p.nodeType||p.nextSibling)){x=null;if(d){var A=m.getAttribute(ca);g=A?[d].concat(A.split(/\s*,\s*/)):
[d];try{x=l(g,r.contextRequire)}catch(J){}x||w.forEach(g,function(J){~J.indexOf("/")&&!H[J]&&(H[J]=!0,q[q.length]=J)});A=x&&!x.prototype._noScript?[]:null;f={types:g,ctor:x,parent:f,node:m,scripts:A};f.inherited=O(f);E.push(f)}else f={node:m,scripts:g,parent:f};g=A;x=m.stopParser||x&&x.prototype.stopParser&&!r.template;m=p}else m=m.nextSibling;else{if(!f||!f.node)break;m=f.node.nextSibling;x=!1;f=f.parent;g=f.scripts}var L=new F;q.length?(r.contextRequire||Q)(q,function(){L.resolve(w.filter(E,function(J){if(!J.ctor)try{J.ctor=
l(J.types,r.contextRequire)}catch(da){}for(var P=J.parent;P&&!P.types;)P=P.parent;var aa=J.ctor&&J.ctor.prototype;J.instantiateChildren=!(aa&&aa.stopParser&&!r.template);J.instantiate=!P||P.instantiate&&P.instantiateChildren;return J.instantiate}))}):L.resolve(E);return L.promise},_require:function(p,r){p=W("{"+p.innerHTML+"}");var O=[],E=[],q=new F;r=r&&r.contextRequire||Q;for(var H in p)O.push(H),E.push(p[H]);r(E,function(){for(var V=0;V<O.length;V++)u.setObject(O[V],arguments[V]);q.resolve(arguments)});
return q.promise},_scanAmd:function(p,r){var O=new F,E=O.promise;O.resolve(!0);var q=this;ia("script[type\x3d'dojo/require']",p).forEach(function(H){E=E.then(function(){return q._require(H,r)});H.parentNode.removeChild(H)});return E},parse:function(p,r){!p||"string"==typeof p||"nodeType"in p||(r=p,p=r.rootNode);var O=p?y.byId(p):G.body();r=r||{};var E=r.template?{template:!0}:{},q=[],H=this;p=this._scanAmd(O,r).then(function(){return H.scan(O,r)}).then(function(V){return H._instantiate(V,E,r,!0)}).then(function(V){return q=
q.concat(V)}).otherwise(function(V){console.error("dojo/parser::parse() error",V);throw V;});u.mixin(q,p);return q}};K.parser=M;B.parseOnLoad&&la(100,M,"parse");return M})},"dojo/_base/url":function(){define(["./kernel"],function(Q){var K=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,u=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,w=function(){for(var B=arguments,y=[B[0]],G=1;G<B.length;G++)if(B[G]){var v=new w(B[G]+"");y=new w(y[0]+"");if(""==v.path&&!v.scheme&&
!v.authority&&!v.query)null!=v.fragment&&(y.fragment=v.fragment),v=y;else if(!v.scheme&&(v.scheme=y.scheme,!v.authority&&(v.authority=y.authority,"/"!=v.path.charAt(0)))){y=(y.path.substring(0,y.path.lastIndexOf("/")+1)+v.path).split("/");for(var h=0;h<y.length;h++)"."==y[h]?h==y.length-1?y[h]="":(y.splice(h,1),h--):0<h&&(1!=h||""!=y[0])&&".."==y[h]&&".."!=y[h-1]&&(h==y.length-1?(y.splice(h,1),y[h-1]=""):(y.splice(h-1,2),h-=2));v.path=y.join("/")}y=[];v.scheme&&y.push(v.scheme,":");v.authority&&y.push("//",
v.authority);y.push(v.path);v.query&&y.push("?",v.query);v.fragment&&y.push("#",v.fragment)}this.uri=y.join("");B=this.uri.match(K);this.scheme=B[2]||(B[1]?"":null);this.authority=B[4]||(B[3]?"":null);this.path=B[5];this.query=B[7]||(B[6]?"":null);this.fragment=B[9]||(B[8]?"":null);null!=this.authority&&(B=this.authority.match(u),this.user=B[3]||null,this.password=B[4]||null,this.host=B[6]||B[7],this.port=B[9]||null)};w.prototype.toString=function(){return this.uri};return Q._Url=w})},"dojo/date/stamp":function(){define(["../_base/lang",
"../_base/array"],function(Q,K){var u={};Q.setObject("dojo.date.stamp",u);u.fromISOString=function(w,B){u._isoRegExp||(u._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);var y=u._isoRegExp.exec(w);w=null;if(y){y.shift();y[1]&&y[1]--;y[6]&&(y[6]*=1E3);B&&(B=new Date(B),K.forEach(K.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(h){return B["get"+h]()}),function(h,D){y[D]=y[D]||h}));w=new Date(y[0]||
1970,y[1]||0,y[2]||1,y[3]||0,y[4]||0,y[5]||0,y[6]||0);100>y[0]&&w.setFullYear(y[0]||1970);var G=0,v=y[7]&&y[7].charAt(0);"Z"!=v&&(G=60*(y[8]||0)+(Number(y[9])||0),"-"!=v&&(G*=-1));v&&(G-=w.getTimezoneOffset());G&&w.setTime(w.getTime()+6E4*G)}return w};u.toISOString=function(w,B){var y=function(D){return 10>D?"0"+D:D};B=B||{};var G=[],v=B.zulu?"getUTC":"get",h="";"time"!=B.selector&&(h=w[v+"FullYear"](),h=["0000".substr((h+"").length)+h,y(w[v+"Month"]()+1),y(w[v+"Date"]())].join("-"));G.push(h);"date"!=
B.selector&&(h=[y(w[v+"Hours"]()),y(w[v+"Minutes"]()),y(w[v+"Seconds"]())].join(":"),v=w[v+"Milliseconds"](),B.milliseconds&&(h+="."+(100>v?"0":"")+y(v)),B.zulu?h+="Z":"time"!=B.selector&&(w=w.getTimezoneOffset(),B=Math.abs(w),h+=(0<w?"-":"+")+y(Math.floor(B/60))+":"+y(B%60)),G.push(h));return G.join("T")};return u})},"jimu/dijit/CheckBox":function(){define("dojo/_base/declare dijit/_WidgetBase dojo/_base/lang dojo/_base/html dojo/dom-class dojo/on dojo/Evented dojo/keys ../utils".split(" "),function(Q,
K,u,w,B,y,G,v,h){return Q([K,G],{baseClass:"jimu-checkbox",declaredClass:"jimu.dijit.CheckBox",checked:!1,status:!0,label:"",postCreate:function(){this.checkNode=w.create("div",{"class":"checkbox jimu-float-leading"},this.domNode);this.labelNode=w.create("div",{"class":"label jimu-float-leading",innerHTML:h.sanitizeHTML(this.label)||""},this.domNode);this.checked&&w.addClass(this.checkNode,"checked");this.status||w.addClass(this.domNode,"jimu-state-disabled");this.own(y(this.checkNode,"click",u.hitch(this,
function(){this.status&&(this.checked?this.uncheck():this.check())})));this.own(y(this.labelNode,"click",u.hitch(this,function(){this.checked&&this.status?this.uncheck():this.status&&this.check()})));this._udpateLabelClass();this._initSection508()},setLabel:function(D){this.label=D||"";this.labelNode.innerHTML=h.sanitizeHTML(this.label);this._udpateLabelClass()},getLabel:function(){return this.label||""},_udpateLabelClass:function(){this.labelNode&&(this.labelNode.innerHTML?w.removeClass(this.labelNode,
"not-visible"):w.addClass(this.labelNode,"not-visible"))},_initSection508:function(){"undefined"!==typeof this.tabindex&&(w.setAttr(this.checkNode,"tabindex",this.tabindex),this.own(y(this.checkNode,"focus",u.hitch(this,function(){w.addClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(y(this.checkNode,"blur",u.hitch(this,function(){w.removeClass(this.checkNode,"dijitCheckBoxFocused")}))),this.own(y(this.checkNode,"keypress",u.hitch(this,function(D){D=D.charCode||D.keyCode;w.hasClass(this.checkNode,
"dijitCheckBoxFocused")&&v.SPACE===D&&this.status&&(this.checked?this.uncheck():this.check())}))))},setValue:function(D){this.status&&(!0===D?this.check():this.uncheck())},getValue:function(){return this.checked},setStatus:function(D){D=!!D;var R=this.status!==D;(this.status=D)?B.remove(this.domNode,"jimu-state-disabled"):B.add(this.domNode,"jimu-state-disabled");R&&this.emit("status-change",D)},getStatus:function(){return this.status},check:function(){this.status&&(this.checked=!0,w.addClass(this.checkNode,
"checked"),this.onStateChange())},uncheck:function(D){if(this.status&&(this.checked=!1,w.removeClass(this.checkNode,"checked"),!D))this.onStateChange()},onStateChange:function(){if(this.onChange&&u.isFunction(this.onChange))this.onChange(this.checked);this.emit("change",this.checked)},focus:function(){this.checkNode&&this.checkNode.focus&&this.checkNode.focus()}})})},"widgets/LayerList/_build-generate_module":function(){define(["dojo/text!./Widget.html","dojo/text!./css/style.css","dojo/i18n!./nls/strings"],
function(){})},"url:widgets/LayerList/LayerItem.html":'\x3cdiv data-dojo-attach-event\x3d"click:_onClickSelf"\x3e\r\n\t\x3ctable class\x3d"layeritem-table"\x3e\r\n\t\t\x3ccolgroup\x3e\r\n\t\t\t\x3ccol width\x3d"auto"\x3e\x3c/col\x3e\r\n\t\t\t\x3ccol width\x3d"50"\x3e\x3c/col\x3e\r\n\t    \x3c/colgroup\x3e\r\n\t\t\x3ctbody\x3e\r\n\t\t\t\x3ctr\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv data-dojo-type\x3d"jimu/dijit/CheckBox" data-dojo-attach-point\x3d"cbx" /\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\t\x3ctd\x3e\r\n\t\t\t\t\t\x3cdiv class\x3d"esri-icon-zoom-out-fixed jimu-float-trailing" title\x3d"${nls.fullExtentTip}" data-dojo-attach-event\x3d"onclick:_onBtnZoomClicked"\x3e\x3c/div\x3e\r\n\t\t\t\t\x3c/td\x3e\r\n\t\t\t\x3c/tr\x3e\r\n\t\t\x3c/tbody\x3e\r\n\t\x3c/table\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/Widget.html":'\x3cdiv\x3e\r\n\t\x3cdiv class\x3d"dijit-container" data-dojo-attach-point\x3d"dijitDiv"\x3e\x3c/div\x3e\r\n  \x3cdiv class\x3d"elevation-layers-container" data-dojo-attach-point\x3d"elevationLayersContainer"\x3e\r\n    \x3cdiv class\x3d"ground-tip hidden" data-dojo-attach-point\x3d"groundTip"\x3e\r\n      \x3chr /\x3e\r\n      \x3cdiv\x3e\r\n        \x3cspan\x3e${nls.ground}\x3c/span\x3e\r\n      \x3c/div\x3e\r\n    \x3c/div\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e',
"url:widgets/LayerList/css/style.css":'.jimu-widget-layerlist{}.jimu-widget-layerlist .dijit-container{width: 100%;}.jimu-widget-layerlist .hidden{display: none !important;}.jimu-widget-layerlist .esri-layer-list__list--root{overflow-x: hidden; padding-bottom: 40px;}.jimu-widget-layerlist .esri-layer-list{max-height: initial; background: transparent; padding: 0;}.jimu-widget-layerlist .esri-layer-list__item{background: inherit; max-height: 100%; overflow: visible; padding: 0; margin-left: 15px;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item{margin-left: 0; margin-right: 15px;}.jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{position: absolute; right: -5px; width: 200px; top: 30px; z-index: 2;}.jimu-rtl .jimu-widget-layerlist .esri-layer-list__item .esri-layer-list__item-actions{left: -5px; right: auto;}.jimu-widget-layerlist .esri-layer-list__item.esri-layer-list__item--has-children{margin-left: 0; margin-right: 0;}.jimu-widget-layerlist .esri-layer-list__list--root \x3e .esri-layer-list__item{margin-left: 0 !important; margin-right: 0 !important;}.jimu-widget-layerlist .esri-layer-list__item:before{display: none;}.jimu-widget-layerlist .esri-layer-list__item:after{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container .esri-icon-zoom-out-fixed{display: none;}.jimu-widget-layerlist .esri-layer-list__item-container:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .esri-layer-list__item-container{padding: 9px 0; border-bottom: none;}.jimu-widget-layerlist .dijit-container \x3e ul.esri-layer-list__list--root \x3e .esri-layer-list__item:first-child{}.jimu-widget-layerlist .esri-layer-list__item-toggle{width: 16px; height: 16px;}.jimu-widget-layerlist .esri-icon-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checked_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-visible:before{content: "";}.jimu-widget-layerlist .esri-icon-non-visible {display: inline-block; width: 16px; height: 16px; background: url(../../../jimu.js/css/images/checkbox_default.png) no-repeat center center;}.jimu-widget-layerlist .esri-icon-non-visible:before{content: "";}.jimu-widget-layerlist .jimu-widget-layeritem{cursor: pointer;}.jimu-widget-layerlist .jimu-widget-layeritem.not-loaded{display: none;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table{width: 100%; table-layout: fixed; border-collapse: collapse;}.jimu-widget-layerlist .jimu-widget-layeritem .esri-icon-zoom-out-fixed{font-size: 14px; cursor: pointer; display: none;}.jimu-widget-layerlist .jimu-widget-layeritem:hover .esri-icon-zoom-out-fixed{display: block;}.jimu-widget-layerlist .jimu-widget-layeritem .layeritem-table td{padding: 5px 0;}.jimu-widget-layerlist .jimu-widget-layeritem .jimu-checkbox .label{cursor: pointer;}.jimu-widget-layerlist .elevation-layers-container{position: relative; top: -30px;}.jimu-widget-layerlist .ground-tip{position: relative; height: 24px; margin-top: 5px;}.jimu-widget-layerlist .ground-tip \x3e *{position: absolute; width: 100%;}.jimu-widget-layerlist .ground-tip \x3e div{text-align: center;}.jimu-widget-layerlist .ground-tip span{display: inline-block; max-width: 90%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; background-color: white; padding: 0 4px;}html[dir\x3d"rtl"] .jimu-widget-layerlist .esri-layer-list__child-toggle.esri-layer-list__child-toggle--open \x3e .esri-layer-list__child-toggle-icon--closed-rtl.esri-icon-left-triangle-arrow{display: none;}',
"*now":function(Q){Q(['dojo/i18n!*preload*widgets/LayerList/nls/Widget*["ar","bg","bs","ca","cs","da","de","en","el","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl","sr","sv","th","tr","zh-cn","uk","vi","zh-hk","zh-tw","ROOT"]'])}}});
define("dojo/on dojo/_base/array dojo/_base/declare dojo/_base/lang dojo/_base/html jimu/BaseWidget esri/widgets/LayerList ./LayerItem".split(" "),function(Q,K,u,w,B,y,G,v){return u([y],{name:"LayerList",baseClass:"jimu-widget-layerlist",_elevationLayerItems:null,postCreate:function(){this.inherited(arguments);this._elevationLayerItems=[];this.layerList=new G({view:this.sceneView,container:this.dijitDiv,listItemCreatedFunction:w.hitch(this,this._defineActions)});this.own(this.layerList.on("trigger-action",
w.hitch(this,this._onTriggerAction)));this.own(Q(this.sceneView.map.ground.layers,"change",w.hitch(this,this._updateElevationLayers)));this.own(Q(this.sceneView.map.allLayers,"change",w.hitch(this,this._updateGroudTip)));this._updateElevationLayers()},onOpen:function(){this._updateGroudTip()},_updateGroudTip:function(){setTimeout(w.hitch(this,function(){10<this.dijitDiv.clientHeight?B.removeClass(this.groundTip,"hidden"):B.addClass(this.groundTip,"hidden")}),1E3)},_updateElevationLayers:function(){this._destroyAllElevationLayerItems();
for(var h=this.sceneView.map.ground.layers,D=0,R=h.get("length")-1;0<=R;R--){var F=h.getItemAt(R);"hide"!==F.listMode&&(this._addElevationLayerItem(F),D++)}0===D?B.addClass(this.elevationLayersContainer,"hidden"):B.removeClass(this.elevationLayersContainer,"hidden")},_addElevationLayerItem:function(h){h=new v({layer:h,sceneView:this.sceneView,nls:this.nls});this._elevationLayerItems.push(h);h.placeAt(this.elevationLayersContainer)},_destroyAllElevationLayerItems:function(){K.forEach(this._elevationLayerItems,
w.hitch(this,function(h){h.destroy()}));this._elevationLayerItems=[]},_createActionsFunction:function(h){var D=[];h.item.layer&&(D=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]);return D},_defineActions:function(h){h=h.item;h.layer.title?h.actionsSections=[[{title:this.nls.fullExtentTip,className:"esri-icon-zoom-out-fixed",id:"full-extent"}]]:(this.layerList.operationalItems.remove(h),h.destroy())},_onTriggerAction:function(h){var D=h.item.layer;if(D)switch(h.action.id){case "full-extent":(h=
D.fullExtent||D.extent)&&this.sceneView.goTo(h)}},destroy:function(){this.layerList&&(this.layerList.destroy(),this.layerList=null);this._destroyAllElevationLayerItems();this.inherited(arguments)}})});